
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="has-background-light"> <!-- class="has-background-light"    has-background-white-ter     has-text-primary-95-invert -->
<style>
    html {
    background-image: url('logo/albfundal.png');
    background-size: cover; 
    background-repeat: no-repeat; 
    }
    
        #salariat {
            position: absolute; /* fixed */
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-image: url('logo/fundalpicaturi.png');
            background-size: cover; 
            z-index: 999; /* Overlay-ul este deasupra altor elemente */
        }
       

</style>

<head>
    <title>salariati</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.1/css/bulma.min.css">
    <link rel="stylesheet" type="text/css" href="LogoIndex.css">
    <link rel="stylesheet" type="text/css" href="desenarearbore.css">
    <link rel="stylesheet" type="text/css" href="Salariati.css">

</head>
<body >
<script src="LogareMeniu.js"></script>
<script src="desenarearbore.js"></script>


</body>

<script type="application/x-javascript" charset="UTF-8">
cheie_bo=""; //defnesc cheie_bo - cheie pt boli
cheie_u="";//definesc cheie pentru urgente
cb=[]; //tabela cu concedii de boala
urgente=[];//tabela cu urgente
fise=[];//tabela cu fise de aptitudini
ls=[];//lista salariati
salariat_in_ls="";//pozitia salariatului pe care s-a dat click in lista de salariati (din tabela de salariati)
numelog="";//memorez numele persoanei logate
ok="";
ultimele2structuri="";
//identific din cooki-uri numele persoanei care s-a logat
numelog=document.cookie;
numelog=numelog.substr(numelog.indexOf("Nume")+5,numelog.length);
numelog=numelog.substr(0,numelog.indexOf(";"));
numelog=numelog.replaceAll("+"," ");


function informatii_de_intors (nrlinie,cheie_salariat,nume_salariat){
        ls=[];//mai intai initialiezez cu multimea vida intregul array
        ls[0]=[];
        pttitlu="";
        for (j=0;j<tabela_salariati[nrlinie].length;j++) { //am pus -2 deoarece au aparut 2 campuri noi la final in baza de date unul cu nume si unul cu prenume
           ls[0][j]=tabela_salariati[nrlinie][j];
           if (j>10 && j<23 &&tabela_salariati[nrlinie][j]!==null && tabela_salariati[nrlinie][j]!=="") {
             if (pttitlu=="") {
                 pttitlu=tabela_salariati[nrlinie][j];
                 ultimele2structuri=tabela_salariati[nrlinie][j];
             }else{pttitlu=pttitlu+", "+tabela_salariati[nrlinie][j];
                   //ultimele doua structuri de care apartine
                 //alert(tabela_salariati[nrlinie][j-1]);
                 //alert(tabela_salariati[nrlinie][j]);
                   ultimele2structuri=tabela_salariati[nrlinie][j-1]+", "+tabela_salariati[nrlinie][j];
                                                                      }
           }
        }    
}

  
function genereaza_tabel(id_ul) {  //aceasta functie este apelata din pagina     desenarearbore.js  ASADAR, NU SE VA STERGE
    //voi trimite catre server informatii privind pagina in care se afla persoana precum si id-ul trimis transformat intr-o cerinta sql
    z=id_ul;
    //elimin partea de inceput a lui z (l_)
    z=z.substr(z.indexOf("_")+1,z.length);
    i=0;
    //realizez partea string
    while (z.indexOf("_")>-1){
              str=z.substr(0,z.indexOf("_"));
              z=z.substr(z.indexOf("_")+1,z.length);
              i=i+1;
              if (i==1) {
                 ptsql="S"+i+"='"+str+"'";
                 pttitlu=str;
              }else{ptsql=ptsql+" AND S"+i+"='"+str+"'"; }
    }
    i=i+1;
    if (i==1) {
               ptsql="S"+i+"='"+z+"'";
               pttitlu=z;
    }else{ptsql=ptsql+" AND S"+i+"='"+z+"'"; pttitlu=pttitlu+", "+z;}

    var x=new XMLHttpRequest();
    x.onreadystatechange=function(){
       if (x.readyState==4 && x.status==200){
             ls=JSON.parse(atob(decodeURIComponent(x.responseText)));
             lista_salariati(ls,pttitlu);
             //generez un tabelul cu toti salariatii selectati
       }
    };                                                             
    x.open("POST","Salariati.php",true);
    x.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x.send("ptsql="+ptsql+"&pagina="+document.title);   
}

function lista_salariati(ls,pttitlu) {
    if (document.getElementById("br1")) {document.getElementById("br1").remove();}
    if (document.getElementById("Titlu_tabel")) {document.getElementById("Titlu_tabel").remove();}
    if (document.getElementById("br2")) {document.getElementById("br2").remove();}
    a=document.createElement("br");a.id="br1"; document.getElementById("div_tabel").appendChild(a);    
    a=document.createElement('label');a.id="Titlu_tabel";a.innerHTML="&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp"+pttitlu+" - "+ls.length+" salariati"; document.getElementById("div_tabel").appendChild(a);
    a=document.createElement("br");a.id="br2"; document.getElementById("div_tabel").appendChild(a);
    //div-urile trebuie sa inceapa de la 3 deoarece exista 1 si 2 in LogareMeniu.js
                        //generez un tabel cu informatia primita
                            if (document.getElementById("sal")) {document.getElementById("sal").remove();}
                                     //generez tabelul
                                     tabel=document.createElement('TABLE');
                                     tabel.id="sal";
                                     tabel.name="sal";
                                     tabel.classList.add("table", "is-striped", "is-bordered", "is-hoverable", "$table-row-hover-background-color");
                                     tabel.style.border="1px solid black";
                                     tabel.style.borderCollapse="collapse";
                                     tabel.style.width="600px";
                                     document.getElementById("div_tabel").appendChild(tabel);

                                         tr=document.createElement("TR");
                                         tr.id="tr_sal_00";
                                         tr.name="tr_sal_00";
                                         tr.className = "tabel_header";
                                         tr.style.border="1px solid black";
                                         document.getElementById("sal").appendChild(tr);

                                         //th=document.createElement("TH");th.id="th_sal_[0]";th.name="th_sal_[0]";th.style.border="1px solid black";th.innerHTML="Cheie";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[1]";th.name="th_sal_[1]";th.style.border="1px solid black";th.innerHTML="Marca";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[2]";th.name="th_sal_[2]";th.style.border="1px solid black";th.innerHTML="Nume si Prenume";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[3]";th.name="th_sal_[3]";th.style.border="1px solid black";th.innerHTML="CNP";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[4]";th.name="th_sal_[4]";th.style.border="1px solid black";th.innerHTML="Varsta";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[5]";th.name="th_sal_[5]";th.style.border="1px solid black";th.innerHTML="Sex";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[6]";th.name="th_sal_[6]";th.style.border="1px solid black";th.innerHTML="Functia";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[7]";th.name="th_sal_[7]";th.style.border="1px solid black";th.innerHTML="CIM";document.getElementById("tr_sal_00").appendChild(th);
                                         //th=document.createElement("TH");th.id="th_sal_[8]";th.name="th_sal_[8]";th.style.border="1px solid black";th.innerHTML="Serviciu:";document.getElementById("tr_sal_00").appendChild(th);
                                         //th=document.createElement("TH");th.id="th_sal_[9]";th.name="th_sal_[9]";th.style.border="1px solid black";th.innerHTML="Personal:";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[8]";th.name="th_sal_[8]";th.style.border="1px solid black";th.innerHTML="Directia";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[9]";th.name="th_sal_[9]";th.style.border="1px solid black";th.innerHTML="Structura 2";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[10]";th.name="th_sal_[10]";th.style.border="1px solid black";th.innerHTML="Structura 3";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[11]";th.name="th_sal_[11]";th.style.border="1px solid black";th.innerHTML="Structura 4";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[12]";th.name="th_sal_[12]";th.style.border="1px solid black";th.innerHTML="Structura 5";document.getElementById("tr_sal_00").appendChild(th);
                                         th=document.createElement("TH");th.id="th_sal_[13]";th.name="th_sal_[13]";th.style.border="1px solid black";th.innerHTML="Structura 6";document.getElementById("tr_sal_00").appendChild(th);

                                         datacurenta = new Date();
                                         numaruldezile=(datacurenta.getFullYear()-1)*365+datacurenta.getMonth()*30+datacurenta.getDate();
                                       for (i=0;i<ls.length;i++) { ///////////// daca se reampart nr de venituri per coloana atunci se modifica si aici
                                           anul=parseInt(ls[i][4].substr(0,ls[i][4].indexOf("-")));
                                           luna=parseInt(ls[i][4].substr(5,ls[i][4].indexOf("-")));
                                           ziua=parseInt(ls[i][4].substr(8,ls[i][4].indexOf("-")));
                                           totalzile=(anul-1)*365+(luna-1)*30+ziua;
                                           if (ls[i][5]==1) {sex="M";}else{sex="F";}
                                           tr=document.createElement("TR");tr.id=ls[i][1];tr.name=i;border="1px solid black";tr.className = "tabel_linie";
                                           tr.onclick=function(){
                                                     //alert(event.target.parentElement.id);//intoarce id-ul care este in fapt marca salariatului
                                                     //alert(event.target.parentElement.name);//intoarce id-ul care este in fapt marca salariatului
                                                     //generez un div pe care il pozitionez pe tot ecranul care sa aiba un alt div cu un x in interior la apasarea careia il va sterge
                                                     //daca deja exista atunci il sterg
                                                     if (document.getElementById("salariat")) {document.getElementById("salariat").remove();}
                                                     div=document.createElement("div");div.id="salariat";document.body.appendChild(div);
                                                     //in cadrul div-uui salariat, generez un alt div cu un x in el pe care cand se da click se sterge div-ul parinte
                                                     div=document.createElement("div");div.id="X";div.style.backgroundColor="#f7faf2";div.style.width="30px";div.style.height="30px";div.style.left = "calc(100% - 40px)";div.style.textAlign="center";div.style.position="absolute";
                                                     div.style.cssFloat="right";div.style.top = "10px";div.style.zIndex="1002";div.innerHTML="X";
                                                     div.onclick=function(){
                                                        document.getElementById("salariat").remove();
                                                     };
                                                     document.getElementById("salariat").appendChild(div);
                                                     
                                                     //in cadrul div-ului salariat generez un div cu date personale (fotografie, numere de telefon, situatie fisa aptitudine)
                                                     div=document.createElement("div");div.id="date_personale";document.getElementById("salariat").appendChild(div);
                                                        //in cadrul divului cu date personale mai realizez un div pentru fotografie
                                                        salariat_in_ls=event.target.parentElement.name;
                                                        tabel=document.createElement('TABLE');tabel.id="foto_tel";document.getElementById("salariat").appendChild(tabel);
                                                        tr=document.createElement("TR");tr.id="tr_ft_1";document.getElementById("foto_tel").appendChild(tr);
                                                        td=document.createElement("TD");td.id="ft/1/1";document.getElementById("tr_ft_1").appendChild(td);
                                                        td=document.createElement("TD");td.id="ft/1/2";td.style.verticalAlign="center";document.getElementById("tr_ft_1").appendChild(td);
                                                        div=document.createElement("div");div.id="fotografie";div.style.padding="10px";document.getElementById("ft/1/1").appendChild(div);//"https://employee-avatar.antibiotice.ro/avatars/"+ls[event.target.parentElement.name][1]+"?width=100'"
                                                       // a=document.createElement("img");a.style.height="125px";a.id="salariati";document.getElementById("fotografie").appendChild(a); //a.src="https://employee-avatar.antibiotice.ro/avatars/"+ls[event.target.parentElement.name][1]+"?width=100'";
                                                              //solicit primirea informatiei privinf imaginea
                                                               var x=new XMLHttpRequest();
                                                               x.onreadystatechange=function(){
                                                                   if (x.readyState==4 && x.status==200){
                                                                       a=document.createElement("img");a.style.height="125px";a.src=x.responseText;a.id="salariati";document.getElementById("fotografie").appendChild(a);
                                                                   }
                                                               };
                                                               x.open("POST","Salariati.php",true);
                                                               x.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                                                               x.send("marca_salariat_pt_poza="+ls[event.target.parentElement.name][1]);
                                               div=document.createElement("div");div.id="spatiu0";div.style.height="50px";document.getElementById("ft/1/2").appendChild(div);
                                                        
                                                        div=document.createElement("div");div.id="Marca_l";div.innerHTML="Marca: "+ls[event.target.parentElement.name][1];document.getElementById("ft/1/2").appendChild(div);
                                                        div=document.createElement("div");div.id="Nume_l";div.innerHTML="Nume: "+ls[event.target.parentElement.name][2];document.getElementById("ft/1/2").appendChild(div);
                                                        div=document.createElement("div");div.id="Flota_Lung";div.innerHTML="Flota lung: "+ls[event.target.parentElement.name][8];document.getElementById("ft/1/2").appendChild(div);
                                                        div=document.createElement("div");div.id="Tel_Personal";div.innerHTML="Telefon personal: "+ls[event.target.parentElement.name][9];document.getElementById("ft/1/2").appendChild(div);

                                                     //intorc din baza de date situatia privind fisa de aptitudini !!!!!!!!!!!!!!!!!!!!!!!!!!!!!

                                                     //generez 4 div-uri in care se vor regasi bolile cronice, concediile de boala, urgentele SI FISELE DE APTITUDINI
                                                     //mai intai generez un div in care voi avea un tabel cu 8 celule prin care se vor afisa sau ascunde div-urile de lucru
                                                     div=document.createElement("div");div.id="meniu_cronice_boala_urgente";document.getElementById("salariat").appendChild(div);
                                                                
                                                         tabel=document.createElement('TABLE');
                                                         tabel.id="meniu_cbu";
                                                         tabel.name="meniu_cbu";
                                                         //tabel.className="navbar-item has-text-weight-bold";
                                                         tabel.classList.add("table"); //, "$table-row-hover-background-color", "is-striped", "is-hoverable", 
                                                         //tabel.style.border="1px solid black";
                                                         //tabel.style.borderCollapse="collapse";
                                                         document.getElementById("meniu_cronice_boala_urgente").appendChild(tabel);
                    
                                                             tr=document.createElement("TR");
                                                             tr.id="tr_cbu";
                                                             tr.name="tr_cbu";
                                                             tr.className = "tabel_header_m";
                                                             //tr.style.border="1px solid black";
                                                             document.getElementById("meniu_cbu").appendChild(tr);
                    
                                                             th=document.createElement("TH");th.id="th_cbu_[0]";th.name="th_cbu_[0]";th.style.cursor="pointer";
                                                             th.onclick=function(){
                                                                 document.getElementById('boli_cronice').style.display = 'block';
                                                                 document.getElementById('concedii_boala').style.display = 'none';
                                                                 document.getElementById('urgent').style.display = 'none';
                                                                 document.getElementById('fise_aptitudini').style.display='none';
                                                                 
                                                                 document.getElementById("div_introducere_boli").style.display='none'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu boli
                                                                 document.getElementById("div_introducere_urgente").style.display='none'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu urgente
                                                                 document.getElementById("div_introducere_fise").style.display='none';
                                                                 
                                                                 document.getElementById('th_cbu_[2]').style.backgroundColor=initialColor;Out2('th_cbu_[2]');
                                                                 document.getElementById('th_cbu_[4]').style.backgroundColor=initialColor;Out2('th_cbu_[4]');
                                                                 document.getElementById('th_cbu_[6]').style.backgroundColor=initialColor;Out2('th_cbu_[6]'); 
                                                             };
                                                             th.onmouseenter=function(){document.getElementById("th_cbu_[0]").style.backgroundColor="#f7faf2";Intra2('th_cbu_[0]',16,8);};
                                                             th.onmouseout=function(){
                                                                if (document.getElementById('boli_cronice').style.display !== 'block') {
                                                                      document.getElementById('th_cbu_[0]').style.backgroundColor=initialColor;Out2('th_cbu_[0]');
                                                                    }else{
                                                                      document.getElementById('th_cbu_[2]').style.backgroundColor=initialColor;Out2('th_cbu_[2]');
                                                                      document.getElementById('th_cbu_[4]').style.backgroundColor=initialColor;Out2('th_cbu_[4]');
                                                                      document.getElementById('th_cbu_[6]').style.backgroundColor=initialColor;Out2('th_cbu_[6]'); 
                                                                    }
                                                                };
                                                             th.innerHTML="Boli cronice";document.getElementById("tr_cbu").appendChild(th);
                                                             
                                                             initialColor=document.getElementById("th_cbu_[0]").style.backgroundColor; //preiau culoarea initiala chiar din meniu fiind aceeasi culoare
                                                             
                                                             th=document.createElement("TH");th.id="th_cbu_[1]";th.name="th_cbu_[1]";document.getElementById("tr_cbu").appendChild(th);
                                                             
                                                             th=document.createElement("TH");th.id="th_cbu_[2]";th.name="th_cbu_[2]";th.style.cursor="pointer";
                                                             th.onclick=function(){
                                                                  document.getElementById('boli_cronice').style.display='none';
                                                                  document.getElementById('concedii_boala').style.display='block';
                                                                  document.getElementById('urgent').style.display='none';
                                                                  document.getElementById('fise_aptitudini').style.display='none';
                                                                  
                                                                  document.getElementById("div_introducere_boli").style.display='none'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu boli
                                                                  document.getElementById("div_introducere_urgente").style.display='none'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu urgente
                                                                  document.getElementById("div_introducere_fise").style.display='none';
                                                                  
                                                                  document.getElementById('th_cbu_[0]').style.backgroundColor=initialColor;Out2('th_cbu_[0]');
                                                                  document.getElementById('th_cbu_[4]').style.backgroundColor=initialColor;Out2('th_cbu_[4]');
                                                                  document.getElementById('th_cbu_[6]').style.backgroundColor=initialColor;Out2('th_cbu_[6]');  
                                                             };
                                                             th.onmouseenter=function(){document.getElementById("th_cbu_[2]").style.backgroundColor="#f7faf2";Intra2('th_cbu_[2]',20,8);};
                                                             th.onmouseout=function(){
                                                                if (document.getElementById('concedii_boala').style.display !== 'block') {
                                                                      document.getElementById('th_cbu_[2]').style.backgroundColor=initialColor;Out2('th_cbu_[2]');
                                                                    }else{
                                                                      document.getElementById('th_cbu_[0]').style.backgroundColor=initialColor;Out2('th_cbu_[0]');
                                                                      document.getElementById('th_cbu_[4]').style.backgroundColor=initialColor;Out2('th_cbu_[4]');
                                                                      document.getElementById('th_cbu_[6]').style.backgroundColor=initialColor;Out2('th_cbu_[6]');  
                                                                    }
                                                                };
                                                            //};
                                                             th.innerHTML="Certificate medicale";document.getElementById("tr_cbu").appendChild(th);
                                                             
                                                             th=document.createElement("TH");th.id="th_cbu_[3]";th.name="th_cbu_[3]";document.getElementById("tr_cbu").appendChild(th);
                                                             
                                                             th=document.createElement("TH");th.id="th_cbu_[4]";th.name="th_cbu_[4]";th.style.cursor="pointer";
                                                             th.onclick=function(){
                                                                  document.getElementById('boli_cronice').style.display='none';
                                                                  document.getElementById('concedii_boala').style.display='none';
                                                                  document.getElementById('urgent').style.display='block';
                                                                  document.getElementById('fise_aptitudini').style.display='none';
                                                                  
                                                                  document.getElementById("div_introducere_boli").style.display='none'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu boli
                                                                  document.getElementById("div_introducere_urgente").style.display='none'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu urgente
                                                                  document.getElementById("div_introducere_fise").style.display='none';
                                                                  
                                                                  document.getElementById('th_cbu_[0]').style.backgroundColor=initialColor;Out2('th_cbu_[0]');
                                                                  document.getElementById('th_cbu_[2]').style.backgroundColor=initialColor;Out2('th_cbu_[2]');
                                                                  document.getElementById('th_cbu_[6]').style.backgroundColor=initialColor;Out2('th_cbu_[6]'); 
                                                             };
                                                             th.onmouseenter=function(){document.getElementById("th_cbu_[4]").style.backgroundColor="#f7faf2";Intra2('th_cbu_[4]',13,8);};
                                                             th.onmouseout=function(){
                                                                if (document.getElementById('urgent').style.display !== 'block') {
                                                                      document.getElementById('th_cbu_[4]').style.backgroundColor=initialColor;Out2('th_cbu_[4]');
                                                                    }else{
                                                                      document.getElementById('th_cbu_[0]').style.backgroundColor=initialColor;Out2('th_cbu_[0]');
                                                                      document.getElementById('th_cbu_[2]').style.backgroundColor=initialColor;Out2('th_cbu_[2]');
                                                                      document.getElementById('th_cbu_[6]').style.backgroundColor=initialColor;Out2('th_cbu_[6]'); 
                                                                    }
                                                                };
                                                             th.innerHTML="Urgente";document.getElementById("tr_cbu").appendChild(th);
                                                             th=document.createElement("TH");th.id="th_cbu_[5]";th.name="th_cbu_[5]";th.innerHTML="";document.getElementById("tr_cbu").appendChild(th);

                                                             ////////////////////////////NOU Pt fise aptitudine
                                                             th=document.createElement("TH");th.id="th_cbu_[6]";th.name="th_cbu_[6]";th.style.cursor="pointer";
                                                             th.onclick=function(){
                                                                  document.getElementById('boli_cronice').style.display='none';
                                                                  document.getElementById('concedii_boala').style.display='none';
                                                                  document.getElementById('urgent').style.display='none';
                                                                  document.getElementById('fise_aptitudini').style.display='block';
                                                                  
                                                                  document.getElementById("div_introducere_boli").style.display='none'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu boli
                                                                  document.getElementById("div_introducere_urgente").style.display='none'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu urgente
                                                                  document.getElementById("div_introducere_fise").style.display='none';
                                                                  
                                                                  document.getElementById('th_cbu_[0]').style.backgroundColor=initialColor;Out2('th_cbu_[0]');
                                                                  document.getElementById('th_cbu_[2]').style.backgroundColor=initialColor;Out2('th_cbu_[2]');
                                                                  document.getElementById('th_cbu_[4]').style.backgroundColor=initialColor;Out2('th_cbu_[4]'); 
                                                             };
                                                             th.onmouseenter=function(){document.getElementById("th_cbu_[6]").style.backgroundColor="#f7faf2";Intra2('th_cbu_[6]',22,8);};
                                                             th.onmouseout=function(){
                                                                if (document.getElementById('fise_aptitudini').style.display !== 'block') {
                                                                      document.getElementById('th_cbu_[6]').style.backgroundColor=initialColor;Out2('th_cbu_[6]');
                                                                    }else{
                                                                      document.getElementById('th_cbu_[0]').style.backgroundColor=initialColor;Out2('th_cbu_[0]');
                                                                      document.getElementById('th_cbu_[2]').style.backgroundColor=initialColor;Out2('th_cbu_[2]');
                                                                      document.getElementById('th_cbu_[4]').style.backgroundColor=initialColor;Out2('th_cbu_[4]'); 
                                                                    }
                                                                };
                                                             th.innerHTML="Fise de aptitudine";document.getElementById("tr_cbu").appendChild(th);
                                                             th=document.createElement("TH");th.id="th_cbu_[7]";th.name="th_cbu_[7]";th.innerHTML="";document.getElementById("tr_cbu").appendChild(th);

                                                     //introduc un div intermediar pentru un spatiu la afisare
                                                     div=document.createElement("div");div.id="spatiu";div.style.width="20px";div.style.height="20px";document.getElementById("salariat").appendChild(div);
                                                             
                                                     //intorc din baza de date situatia privind bolile cronice de care sufera persoana
                                                     div=document.createElement("div");div.id="boli_cronice";div.style.display='none';document.getElementById("salariat").appendChild(div);

                                                                
                                                     genereaza_tabel_boli(event.target.parentElement.id);                                     

                                                               //DIV PT ADAUGAT BOLI CRONICE se genereaza un div care va fi pozitionat in functie de coordonatele unde se da click in tabel, initial acesta nu este vizibil
                                                               if (document.getElementById("div_introducere_boli")) {document.getElementById("div_introducere_boli").remove();}
                                                               div=document.createElement("div");div.id="div_introducere_boli";div.style.width="600px";div.style.display='none';div.style.top = "50px"; div.style.left = "calc(100% - 600px)";div.style.position="absolute";document.getElementById("salariat").appendChild(div); //segenereaza tabela de introducere a bolilor dar ramane ascunsa
                                                               //in acest div adaug:
                                                               //buton de inchidere a div-ului  div_introducere_boli
                                                               div=document.createElement("div");div.id="X_boli";div.style.backgroundColor="#f7faf2";div.style.width="30px";div.style.height="30px"; div.style.top = "5px"; div.style.left = "-35px"; div.style.textAlign="center";div.style.position="relative";//div.style.left = "565px"; div.style.left = "calc(100% - 40px)"
                                                               div.style.cssFloat="right";div.style.zIndex="1002";div.innerHTML="X";
                                                               div.onclick=function(){
                                                                    document.getElementById("div_introducere_boli").style.display='none'; //daca se apasa pe x, tabela de introducere a bolilor se ascunde
                                                               };
                                                               document.getElementById("div_introducere_boli").appendChild(div);
                                                               
                                                               tabel=document.createElement('TABLE');tabel.id="tab_introducere_boli";tabel.classList.add("table", "is-striped", "is-hoverable", "$table-row-hover-background-color");tabel.style.borderCollapse="collapse";document.getElementById("div_introducere_boli").appendChild(tabel);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_ib_1";tr.name="tr_ib";document.getElementById("tab_introducere_boli").appendChild(tr);
                                                               td=document.createElement("TD");td.id="bo/1/1";document.getElementById("tr_ib_1").appendChild(td);
                                                               td=document.createElement("TD");td.id="bo/1/2";document.getElementById("tr_ib_1").appendChild(td);
                                                               a=document.createElement('label');a.id="label_Marca";a.innerHTML="Marca:&nbsp&nbsp"; a.style.fontWeight="bold";document.getElementById("bo/1/1").appendChild(a);
                                                               a=document.createElement('label');a.id="Marca";a.innerHTML=event.target.parentElement.id; document.getElementById("bo/1/2").appendChild(a);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_ib_2";tr.name="tr_ib";document.getElementById("tab_introducere_boli").appendChild(tr);
                                                               td=document.createElement("TD");td.id="bo/2/1";document.getElementById("tr_ib_2").appendChild(td);
                                                               td=document.createElement("TD");td.id="bo/2/2";document.getElementById("tr_ib_2").appendChild(td);
                                                               a=document.createElement('label');a.id="label_Cod_Diagnostic";a.innerHTML="Cod diagnostic: &nbsp"; a.style.fontWeight="bold";document.getElementById("bo/2/1").appendChild(a);
                                                               a=document.createElement('label');a.id="Cod_Diagnostic";document.getElementById("bo/2/2").appendChild(a);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_ib_3";tr.name="tr_ib";document.getElementById("tab_introducere_boli").appendChild(tr);
                                                               td=document.createElement("TD");td.id="bo/3/1";document.getElementById("tr_ib_3").appendChild(td);
                                                               td=document.createElement("TD");td.id="bo/3/2";document.getElementById("tr_ib_3").appendChild(td);
                                                               a=document.createElement("label");a.id="label_Denumire_Diagnostic";a.innerHTML="Denumire Diagnostic:&nbsp&nbsp";a.style.fontWeight="bold";document.getElementById("bo/3/1").appendChild(a);
                                                               a=document.createElement("textarea");a.id="Denumire_Diagnostic";a.cols="61"; a.rows="3";a.onkeyup=function(){intoarce_diagnostic_settime();};document.getElementById("bo/3/2").appendChild(a);//a.type="text";a.style.width='400px';
                                                               a=document.createElement("input");a.type="submit";a.id="Reia_cautare_diagnostic";a.value="Reia cautarea diagnosticului";
                                                               a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                               a.onmouseenter=function(){document.getElementById("Reia_cautare_diagnostic").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                               a.onmouseleave=function(){document.getElementById("Reia_cautare_diagnostic").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                               a.onclick=function(){document.getElementById("Denumire_Diagnostic").readOnly=false;
                                                                                    document.getElementById("Denumire_Diagnostic").value="";};
                                                               document.getElementById("bo/3/2").appendChild(a);
                                                               
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_ib_4";tr.name="tr_ib";document.getElementById("tab_introducere_boli").appendChild(tr);
                                                               td=document.createElement("TD");td.id="bo/4/1";document.getElementById("tr_ib_4").appendChild(td);
                                                               td=document.createElement("TD");td.id="bo/4/2";document.getElementById("tr_ib_4").appendChild(td);
                                                               a=document.createElement('label');a.id="label_Aparat";a.innerHTML="Aparat: &nbsp&nbsp"; a.style.fontWeight="bold";document.getElementById("bo/4/1").appendChild(a);
                                                               a=document.createElement('label');a.id="Aparat";document.getElementById("bo/4/2").appendChild(a);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_ib_5";tr.name="tr_ib";document.getElementById("tab_introducere_boli").appendChild(tr);
                                                               td=document.createElement("TD");td.id="bo/5/1";document.getElementById("tr_ib_5").appendChild(td);
                                                               td=document.createElement("TD");td.id="bo/5/2";document.getElementById("tr_ib_5").appendChild(td);
                                                               a=document.createElement("label");a.id="label_Afectiunea";a.innerHTML="Afectiune:&nbsp&nbsp";a.style.fontWeight="bold";document.getElementById("bo/5/1").appendChild(a);
                                                               a=document.createElement("textarea");a.id="Afectiunea";a.cols="61"; a.rows="3";document.getElementById("bo/5/2").appendChild(a);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_ib_6";tr.name="tr_ib";document.getElementById("tab_introducere_boli").appendChild(tr);
                                                               td=document.createElement("TD");td.id="bo/6/1";document.getElementById("tr_ib_6").appendChild(td);
                                                               td=document.createElement("TD");td.id="bo/6/2";document.getElementById("tr_ib_6").appendChild(td);
                                                               a=document.createElement('label');a.id="label_Incepand_cu";a.innerHTML="Incepand cu: &nbsp&nbsp"; a.style.fontWeight="bold";document.getElementById("bo/6/1").appendChild(a);
                                                               a=document.createElement("input");a.type="date";a.id="Incepand_cu";document.getElementById("bo/6/2").appendChild(a);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_ib_7";tr.name="tr_ib";document.getElementById("tab_introducere_boli").appendChild(tr);
                                                               td=document.createElement("TD");td.id="bo/7/1";document.getElementById("tr_ib_7").appendChild(td);
                                                               td=document.createElement("TD");td.id="bo/7/2";document.getElementById("tr_ib_7").appendChild(td);
                                                               a=document.createElement('label');a.id="label_Pana_la";a.innerHTML="Pana la: &nbsp&nbsp"; a.style.fontWeight="bold";document.getElementById("bo/7/1").appendChild(a);
                                                               a=document.createElement("input");a.type="date";a.id="Pana_la";document.getElementById("bo/7/2").appendChild(a);        

                                                               tr=document.createElement("TR");tr.id="tr_ib_8";tr.name="tr_ib";document.getElementById("tab_introducere_boli").appendChild(tr);
                                                               td=document.createElement("TD");td.id="bo/8/1";document.getElementById("tr_ib_8").appendChild(td);
                                                               td=document.createElement("TD");td.id="bo/8/2";td.style.display = "flex";td.style.justifyContent="space-between"; document.getElementById("tr_ib_8").appendChild(td);
    
                                                                a=document.createElement("input");a.type="submit";a.id="Salveaza_boli";a.value="Salveaza";
                                                                a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                a.onmouseenter=function(){document.getElementById("Salveaza_boli").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                a.onmouseleave=function(){document.getElementById("Salveaza_boli").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                a.onclick=function(){sal_boli();goleste_campurile_boli();};
                                                                document.getElementById("bo/8/2").appendChild(a);
                                                                    
                                                                a=document.createElement("input");a.type="submit";a.id="Modifica_boli";a.value="Modifica";
                                                                a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                a.onmouseenter=function(){document.getElementById("Modifica_boli").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                a.onmouseleave=function(){document.getElementById("Modifica_boli").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                a.onclick=function(){mod_boli();goleste_campurile_boli();};
                                                                document.getElementById("bo/8/2").appendChild(a);
                                                                    
                                                                //a=document.createElement("input");a.type="submit";a.id="Sterge_boli";a.value="Sterge";
                                                                //a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                //a.onmouseenter=function(){document.getElementById("Sterge_boli").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                //a.onmouseleave=function(){document.getElementById("Sterge_boli").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                //a.onclick=function(){sterge_boli();};
                                                                //document.getElementById("bo/8/2").appendChild(a);

                                                               
                                                     //intorc din baza de date situatia privind concediile de boala
                                                     div=document.createElement("div");div.id="concedii_boala";div.style.display='none';document.getElementById("salariat").appendChild(div);
                                                            var xc=new XMLHttpRequest();
                                                               xc.onreadystatechange=function(){
                                                                  if (xc.readyState==4 && xc.status==200){
                                                                    if (xc.responseText!=="Nu exista") {
                                                                        cb=JSON.parse(atob(decodeURIComponent(xc.responseText)));

                                                                        //generez un tabelul cu concediile de boala aferente salariatului selectat
                                                                              if (document.getElementById("t_cb")) {document.getElementById("t_cb").remove();}
                                                                                          //generez tabelul
                                                                                          tabel=document.createElement('TABLE');
                                                                                          tabel.id="t_cb";
                                                                                          tabel.name="t_cb";
                                                                                          tabel.classList.add("table", "is-striped", "is-bordered", "is-hoverable", "$table-row-hover-background-color");
                                                                                          tabel.style.border="1px solid black";
                                                                                          tabel.style.borderCollapse="collapse";
                                                                                          document.getElementById("concedii_boala").appendChild(tabel);
                                                     
                                                                                              tr=document.createElement("TR");
                                                                                              tr.id="tr_cb_00";
                                                                                              tr.name="tr_cb_00";
                                                                                              tr.className = "tabel_header";
                                                                                              tr.style.border="1px solid black";
                                                                                              document.getElementById("t_cb").appendChild(tr);
                                                     
                                                                                              //th=document.createElement("TH");th.id="th_cb_[0]";th.name="th_cb_[0]";th.style.border="1px solid black";th.innerHTML="Cheie";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_cb_[1]";th.name="th_cb_[1]";th.style.border="1px solid black";th.innerHTML="Marca";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_cb_[2]";th.name="th_cb_[2]";th.style.border="1px solid black";th.innerHTML="Nume si Prenume";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[3]";th.name="th_cb_[3]";th.style.border="1px solid black";th.innerHTML="Cod";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[4]";th.name="th_cb_[4]";th.style.border="1px solid black";th.innerHTML="Afectiune";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[5]";th.name="th_cb_[5]";th.style.border="1px solid black";th.innerHTML="Aparat";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[6]";th.name="th_cb_[6]";th.style.border="1px solid black";th.innerHTML="Cod Indemnizatie";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[7]";th.name="th_cb_[7]";th.style.border="1px solid black";th.innerHTML="Incepand cu";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[8]";th.name="th_cb_[8]";th.style.border="1px solid black";th.innerHTML="Pana la data";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[9]";th.name="th_cb_[9]";th.style.border="1px solid black";th.innerHTML="Zile";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[10]";th.name="th_cb_[10]";th.style.border="1px solid black";th.innerHTML="Varsta";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[11]";th.name="th_cb_[11]";th.style.border="1px solid black";th.innerHTML="Luna";document.getElementById("tr_cb_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_cb_[12]";th.name="th_cb_[12]";th.style.border="1px solid black";th.innerHTML="An";document.getElementById("tr_cb_00").appendChild(th);

                                                                                              
                                                                                            for (i=0;i<cb.length;i++) { ///////////// daca se reampart nr de venituri per coloana atunci se modifica si aici
                                                                                                tr=document.createElement("TR");tr.id="tr_cb_"+i;tr.name="tr_cb_"+i;border="1px solid black";tr.className = "tabel_linie";document.getElementById("t_cb").appendChild(tr);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[0]_cb";td.name="["+i+"]_[0]_cb";td.innerHTML=cb[i][0];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[1]_cb";td.name="["+i+"]_[1]_cb";td.innerHTML=cb[i][1];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[2]_cb";td.name="["+i+"]_[2]_cb";td.innerHTML=cb[i][2];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[3]_cb";td.name="["+i+"]_[3]_cb";td.innerHTML=cb[i][3];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[4]_cb";td.name="["+i+"]_[4]_cb";td.innerHTML=cb[i][4];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[5]_cb";td.name="["+i+"]_[5]_cb";td.innerHTML=cb[i][5];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[6]_cb";td.name="["+i+"]_[6]_cb";td.innerHTML=cb[i][6];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[7]_cb";td.name="["+i+"]_[7]_cb";td.innerHTML=cb[i][7];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[8]_cb";td.name="["+i+"]_[8]_cb";td.innerHTML=cb[i][8];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[9]_cb";td.name="["+i+"]_[9]_cb";td.innerHTML=cb[i][9];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[10]_cb";td.name="["+i+"]_[10]_cb";td.innerHTML=cb[i][10];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[11]_cb";td.name="["+i+"]_[11]_cb";td.innerHTML=cb[i][11];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[12]_cb";td.name="["+i+"]_[12]_cb";td.innerHTML=cb[i][12];td.style.border="1px solid black";document.getElementById("tr_cb_"+i).appendChild(td);
                                                                                            
                                                                                            }
                                                                                            //introduc si numarul de cerrtificate medicale
                                                                                            document.getElementById("th_cbu_[2]").innerHTML="Certificate medicale: "+cb.length;
                                                                    } //else{document.getElementById("concedii_boala").innerHTML="Nu exista certificate medicale in baza de date pentru aceasta persoana.";}                      
                                                                  }
                                                               };                                                             
                                                               xc.open("POST","Salariati.php",true);
                                                               xc.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
                                                               xc.send("marca_concedii="+event.target.parentElement.id);
                                                               
                                                               
                                                     //intorc din baza de date Urgentele
                                                     div=document.createElement("div");div.id="urgent";div.style.display='none';document.getElementById("salariat").appendChild(div);
                              
                                                                
                                                     genereaza_tabel_urgente(event.target.parentElement.id);
                                                                    
                                                                    
                                                               //DIV PT URGENTE se genereaza un div care va fi pozitionat in functie de coordonatele unde se da click in tabel, initial acesta nu este vizibil
                                                               if (document.getElementById("div_introducere_urgente")) {document.getElementById("div_introducere_urgente").remove();}
                                                               div=document.createElement("div");div.id="div_introducere_urgente";div.style.width="600px";div.style.display='none';div.style.top = "50px"; div.style.left = "calc(100% - 600px)";div.style.position="absolute";document.getElementById("salariat").appendChild(div); //segenereaza tabela de introducere a bolilor dar ramane ascunsa
                                                               //in acest div adaug:
                                                               //buton de inchidere a div-ului  div_introducere_urgente
                                                               div=document.createElement("div");div.id="X_urgente";div.style.backgroundColor="#f7faf2";div.style.width="30px";div.style.height="30px"; div.style.top = "5px"; div.style.left = "-55px"; div.style.textAlign="center";div.style.position="relative";//div.style.left = "565px"; div.style.left = "calc(100% - 40px)"
                                                               div.style.cssFloat="right";div.style.zIndex="1002";div.innerHTML="X";
                                                               div.onclick=function(){
                                                                    document.getElementById("div_introducere_urgente").style.display='none'; //daca se apasa pe x, tabela de introducere a bolilor se ascunde
                                                               };
                                                               document.getElementById("div_introducere_urgente").appendChild(div);
                                                               
                                                               tabel=document.createElement('TABLE');tabel.id="tab_introducere_urgente";tabel.classList.add("table", "is-striped", "is-hoverable", "$table-row-hover-background-color");tabel.style.borderCollapse="collapse";document.getElementById("div_introducere_urgente").appendChild(tabel);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_iu_1";tr.name="tr_iu";document.getElementById("tab_introducere_urgente").appendChild(tr);
                                                               td=document.createElement("TD");td.id="u/1/1";document.getElementById("tr_iu_1").appendChild(td);
                                                               td=document.createElement("TD");td.id="u/1/2";document.getElementById("tr_iu_1").appendChild(td);
                                                               a=document.createElement('label');a.id="label_u_Marca";a.innerHTML="Marca:&nbsp&nbsp"; a.style.fontWeight="bold";document.getElementById("u/1/1").appendChild(a);
                                                               a=document.createElement('label');a.id="uMarca";a.innerHTML=event.target.parentElement.id; document.getElementById("u/1/2").appendChild(a);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_iu_2";tr.name="tr_iu";document.getElementById("tab_introducere_urgente").appendChild(tr);
                                                               td=document.createElement("TD");td.id="u/2/1";document.getElementById("tr_iu_2").appendChild(td);
                                                               td=document.createElement("TD");td.id="u/2/2";document.getElementById("tr_iu_2").appendChild(td);
                                                               a=document.createElement('label');a.id="label_u_Ambulanta";a.innerHTML="Ambulanta: &nbsp"; a.style.fontWeight="bold";document.getElementById("u/2/1").appendChild(a);
                                                               a=document.createElement('textarea');a.id="uAmbulanta";a.cols="61"; a.rows="3";document.getElementById("u/2/2").appendChild(a);
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_iu_3";tr.name="tr_iu";document.getElementById("tab_introducere_urgente").appendChild(tr);
                                                               td=document.createElement("TD");td.id="u/3/1";document.getElementById("tr_iu_3").appendChild(td);
                                                               td=document.createElement("TD");td.id="u/3/2";document.getElementById("tr_iu_3").appendChild(td);
                                                               a=document.createElement('label');a.id="label_u_data";a.innerHTML="Data: &nbsp&nbsp"; a.style.fontWeight="bold";document.getElementById("u/3/1").appendChild(a);
                                                               a=document.createElement("input");a.type="date";a.id="u_Data";document.getElementById("u/3/2").appendChild(a);                                                               
                           
                                                               tr=document.createElement("TR");tr.id="tr_iu_4";tr.name="tr_iu";document.getElementById("tab_introducere_urgente").appendChild(tr);
                                                               td=document.createElement("TD");td.id="u/4/1";document.getElementById("tr_iu_4").appendChild(td);
                                                               td=document.createElement("TD");td.id="u/4/2";document.getElementById("tr_iu_4").appendChild(td);
                                                               a=document.createElement('label');a.id="label_u_ora";a.innerHTML="Ora: &nbsp&nbsp"; a.style.fontWeight="bold";document.getElementById("u/4/1").appendChild(a);
                                                               a=document.createElement("input");a.type="time";a.id="u_Ora";document.getElementById("u/4/2").appendChild(a);   
                                                               
                                                               tr=document.createElement("TR");tr.id="tr_iu_5";tr.name="tr_iu";document.getElementById("tab_introducere_urgente").appendChild(tr);
                                                               td=document.createElement("TD");td.id="u/5/1";document.getElementById("tr_iu_5").appendChild(td);
                                                               td=document.createElement("TD");td.id="u/5/2";document.getElementById("tr_iu_5").appendChild(td);
                                                               a=document.createElement("label");a.id="label_u_Observatii";a.innerHTML="Observatii:&nbsp&nbsp";a.style.fontWeight="bold";document.getElementById("u/5/1").appendChild(a);
                                                               a=document.createElement("textarea");a.id="uObservatii";a.cols="61"; a.rows="3";document.getElementById("u/5/2").appendChild(a);//a.type="text";a.style.width='400px';

                                                               tr=document.createElement("TR");tr.id="tr_iu_6";tr.name="tr_iu";document.getElementById("tab_introducere_urgente").appendChild(tr);
                                                               td=document.createElement("TD");td.id="u/6/1";document.getElementById("tr_iu_6").appendChild(td);
                                                               td=document.createElement("TD");td.id="u/6/2";td.style.display = "flex";td.style.justifyContent="space-between"; document.getElementById("tr_iu_6").appendChild(td);
    
                                                                a=document.createElement("input");a.type="submit";a.id="Salveaza_urgente";a.value="Salveaza";
                                                                a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                a.onmouseenter=function(){document.getElementById("Salveaza_urgente").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                a.onmouseleave=function(){document.getElementById("Salveaza_urgente").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                a.onclick=function(){sal_urgente();goleste_campurile_urgente();};
                                                                document.getElementById("u/6/2").appendChild(a);
                                                                    
                                                                a=document.createElement("input");a.type="submit";a.id="Modifica_urgente";a.value="Modifica";
                                                                a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                a.onmouseenter=function(){document.getElementById("Modifica_urgente").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                a.onmouseleave=function(){document.getElementById("Modifica_urgente").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                a.onclick=function(){mod_urgente();goleste_campurile_urgente();};
                                                                document.getElementById("u/6/2").appendChild(a);
                                                                    
                                                                //a=document.createElement("input");a.type="submit";a.id="Sterge_urgente";a.value="Sterge";
                                                                //a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                //a.onmouseenter=function(){document.getElementById("Sterge_urgente").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                //a.onmouseleave=function(){document.getElementById("Sterge_urgente").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                //a.onclick=function(){sterge_urgente();};
                                                                //document.getElementById("u/6/2").appendChild(a);
                                                                //                                                                    
                                                                //a=document.createElement("input");a.type="submit";a.id="Curata_urgente";a.value="Curata";
                                                                //a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                //a.onmouseenter=function(){document.getElementById("Curata_urgente").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                //a.onmouseleave=function(){document.getElementById("Curata_urgente").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                //a.onclick=function(){goleste_campurile_urgente();};
                                                                //document.getElementById("u/6/2").appendChild(a);
                                                                
                                                                
                                                     //intorc din baza de date fisele de aptitudini
                                                     div=document.createElement("div");div.id="fise_aptitudini";div.style.display='none';document.getElementById("salariat").appendChild(div);
                                                     genereaza_tabel_fise(event.target.parentElement.id);
                                                     
                                                               if (document.getElementById("div_introducere_fise")) {document.getElementById("div_introducere_fise").remove();}
                                                               div=document.createElement("div");div.id="div_introducere_fise";div.style.width="400px";div.style.display='none';div.style.top = "10px"; div.style.left = "calc(100% - 400px)";div.style.position="absolute";document.getElementById("salariat").appendChild(div); //segenereaza tabela de introducere a bolilor dar ramane ascunsa
                                                               //in acest div adaug:
                                                               //buton de inchidere a div-ului  div_introducere_boli
                                                               div=document.createElement("div");div.id="X_fise";div.style.backgroundColor="#f7faf2";div.style.width="30px";div.style.height="30px"; div.style.top = "30px"; div.style.left = "-5px"; div.style.textAlign="center";div.style.position="relative";//div.style.left = "565px"; div.style.left = "calc(100% - 40px)"
                                                               div.style.cssFloat="right";div.style.zIndex="1002";div.innerHTML="X";
                                                               div.onclick=function(){
                                                                    document.getElementById("div_introducere_fise").style.display='none'; //daca se apasa pe x, tabela de introducere a bolilor se ascunde
                                                               };
                                                               document.getElementById("div_introducere_fise").appendChild(div);

                                                                tabel=document.createElement('TABLE');tabel.id="tab_introducere_fise";tabel.classList.add("table", "is-striped", "is-hoverable", "$table-row-hover-background-color");tabel.style.borderCollapse="collapse";document.getElementById("div_introducere_fise").appendChild(tabel);
                                                                
                                                                tabel=document.createElement('TABLE');tabel.id="om1";document.getElementById("tab_introducere_fise").appendChild(tabel);
                                                                
                                                                tr=document.createElement("TR");tr.id="om1_tr0";tr.style.textAlign="right";tr.style.verticalAlign="center";document.getElementById("om1").appendChild(tr);
                                                                td=document.createElement("TD");td.id="om1_tr0_c1";td.innerHTML="Cal medicament";td.style.fontSize="14px";document.getElementById("om1_tr0").appendChild(td);
                                                                td=document.createElement("TD");td.id="om1_tr0_c2";document.getElementById("om1_tr0").appendChild(td);
                                                                     a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_0_1"; document.getElementById("om1_tr0_c2").appendChild(a);   ///////////////////////////////// introducere date
                                                                
                                                                //tr=document.createElement("TR");tr.id="om1_tr0";tr.style.textAlign="right";tr.style.verticalAlign="center";document.getElementById("om1").appendChild(tr);
                                                                td=document.createElement("TD");td.id="om1_tr0_c3";td.innerHTML="Marca:";td.style.fontSize="14px";document.getElementById("om1_tr0").appendChild(td);
                                                                td=document.createElement("TD");td.id="om1_tr0_c4";td.innerHTML=ls[salariat_in_ls][1];td.style.textAlign="left";td.style.fontSize="14px";document.getElementById("om1_tr0").appendChild(td);

                                                                tr=document.createElement("TR");tr.id="om1_tr1";tr.style.textAlign="right";tr.style.verticalAlign="center";document.getElementById("om1").appendChild(tr);
                                                                td=document.createElement("TD");td.id="om1_tr1_c1";td.innerHTML="Angajare";td.style.fontSize="14px";document.getElementById("om1_tr1").appendChild(td);
                                                                td=document.createElement("TD");td.id="om1_tr1_c2";document.getElementById("om1_tr1").appendChild(td);
                                                                     a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_1_1"; document.getElementById("om1_tr1_c2").appendChild(a);   ///////////////////////////////// introducere date         
                                                                tr=document.createElement("TR");tr.id="om1_tr2";tr.style.textAlign="right";tr.style.verticalAlign="center";document.getElementById("om1").appendChild(tr);  
                                                                td=document.createElement("TD");td.id="om1_tr2_c1";td.innerHTML="Control medical";td.style.fontSize="14px";document.getElementById("om1_tr2").appendChild(td);
                                                                td=document.createElement("TD");td.id="om1_tr2_c2";document.getElementById("om1_tr2").appendChild(td);
                                                                     a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_1_2"; document.getElementById("om1_tr2_c2").appendChild(a);   //////////////////////////////// introducere date
                                                                tr=document.createElement("TR");tr.id="om1_tr3";tr.style.textAlign="right";tr.style.verticalAlign="center";document.getElementById("om1").appendChild(tr);  
                                                                td=document.createElement("TD");td.id="om1_tr3_c1";td.innerHTML="Adaptare";td.style.fontSize="14px";document.getElementById("om1_tr3").appendChild(td);
                                                                td=document.createElement("TD");td.id="om1_tr3_c2";document.getElementById("om1_tr3").appendChild(td);
                                                                     a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_1_3"; document.getElementById("om1_tr3_c2").appendChild(a);      //////////////////////////////// introducere date
                                                                //tr=document.createElement("TR");tr.id="om1_tr1";tr.style.textAlign="right";tr.style.verticalAlign="center";document.getElementById("om1").appendChild(tr);  
                                                                td=document.createElement("TD");td.id="om1_tr1_c3";td.innerHTML="Reluare a muncii";td.style.fontSize="14px";document.getElementById("om1_tr1").appendChild(td);
                                                                td=document.createElement("TD");td.id="om1_tr1_c4";document.getElementById("om1_tr1").appendChild(td);
                                                                     a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_1_4"; document.getElementById("om1_tr1_c4").appendChild(a);   //////////////////////////////// introducere date
                                                                //tr=document.createElement("TR");tr.id="om1_tr2";tr.style.textAlign="right";tr.style.verticalAlign="center";document.getElementById("om1").appendChild(tr);  
                                                                td=document.createElement("TD");td.id="om1_tr2_c3";td.innerHTML="Supraveghere speciala";td.style.fontSize="14px";document.getElementById("om1_tr2").appendChild(td);
                                                                td=document.createElement("TD");td.id="om1_tr2_c4";document.getElementById("om1_tr2").appendChild(td);
                                                                     a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_1_5"; document.getElementById("om1_tr2_c4").appendChild(a);   //////////////////////////////// introducere date
                                                                //tr=document.createElement("TR");tr.id="om1_tr3";tr.style.textAlign="right";tr.style.verticalAlign="center";document.getElementById("om1").appendChild(tr);  
                                                                td=document.createElement("TD");td.id="om1_tr3_c3";td.innerHTML="Altele";td.style.fontSize="14px";document.getElementById("om1_tr3").appendChild(td);
                                                                td=document.createElement("TD");td.id="om1_tr3_c4";document.getElementById("om1_tr3").appendChild(td);
                                                                     a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_1_6"; document.getElementById("om1_tr3_c4").appendChild(a);   //////////////////////////////// introducere date
                                                    
                                                                
                                                                tabel=document.createElement('TABLE');tabel.style.width="400px";tabel.id="titlu1";document.getElementById("tab_introducere_fise").appendChild(tabel);
                                                                tr=document.createElement("TR");tr.id="titlu1_tr1";document.getElementById("titlu1").appendChild(tr);         
                                                                td=document.createElement("TD");td.id="titlu1_tr1_c1";td.style.width="90px";td.style.fontSize="14px";td.innerHTML="Numar fisa:";document.getElementById("titlu1_tr1").appendChild(td);
                                                                td=document.createElement("TD");td.id="titlu1_tr1_c2";td.style.width="90px";document.getElementById("titlu1_tr1").appendChild(td);
                                                                    a=document.createElement("input");a.type="text";a.id="numar_fisa";a.style.width="80px";document.getElementById("titlu1_tr1_c2").appendChild(a); 
                                                                td=document.createElement("TD");td.id="titlu1_tr1_c3";td.style.width="70px";td.style.fontSize="14px";td.innerHTML="An:";document.getElementById("titlu1_tr1").appendChild(td);
                                                                td=document.createElement("TD");td.id="titlu1_tr1_c4";td.style.width="70px";document.getElementById("titlu1_tr1").appendChild(td);
                                                                    a=document.createElement("input");a.type="text";a.id="anul";a.style.width="50px";document.getElementById("titlu1_tr1_c4").appendChild(a); 
                                                    

                                                                div=document.createElement("div");div.id="inf_persoana1";div.style.width="400px";div.style.border="2px solid black";document.getElementById("tab_introducere_fise").appendChild(div);
                                                                tabel=document.createElement('TABLE');tabel.style.width="398px";tabel.id="nume_pren1";document.getElementById("inf_persoana1").appendChild(tabel);
                                                                tr=document.createElement("TR");tr.id="nume_pren1_tr1";document.getElementById("nume_pren1").appendChild(tr);         
                                                                td=document.createElement("TD");td.id="nume_pren1_tr1_c1";td.style.width="40px";td.style.fontSize="14px";td.innerHTML="Nume:";document.getElementById("nume_pren1_tr1").appendChild(td);
                                                                td=document.createElement("TD");td.id="nume_pren1_tr1_c2";td.style.width="350px";td.style.fontSize="14px";td.innerHTML=ls[salariat_in_ls][23];td.style.textAlign="left";td.style.borderBottom="1px solid black";document.getElementById("nume_pren1_tr1").appendChild(td); //////////////////////////////// introducere date
                                                                tr=document.createElement("TR");tr.id="nume_pren1_tr2";document.getElementById("nume_pren1").appendChild(tr);    
                                                                td=document.createElement("TD");td.id="nume_pren1_tr2_c1";td.style.width="40px";td.style.fontSize="14px";td.innerHTML="Prenume:";document.getElementById("nume_pren1_tr2").appendChild(td); 
                                                                td=document.createElement("TD");td.id="nume_pren1_tr2_c2";td.style.width="350px";td.style.fontSize="14px";td.innerHTML=ls[salariat_in_ls][24];td.style.textAlign="left";td.style.borderBottom="1px solid black";document.getElementById("nume_pren1_tr2").appendChild(td); //////////////////////////////// introducere date
                                                                tr=document.createElement("TR");tr.id="CNP1_tr1";document.getElementById("nume_pren1").appendChild(tr);         
                                                                td=document.createElement("TD");td.id="CNP1_tr1_c1";td.style.width="40px";td.style.fontSize="14px";td.innerHTML="CNP:";document.getElementById("CNP1_tr1").appendChild(td);
                                                                td=document.createElement("TD");td.id="CNP1_tr1_c2";td.style.width="350px";td.style.fontSize="14px";td.innerHTML=ls[salariat_in_ls][3];td.style.borderBottom="1px solid black";document.getElementById("CNP1_tr1").appendChild(td); //////////////////////////////// introducere date
                                                                tr=document.createElement("TR");tr.id="Functie_Loc1_tr1";document.getElementById("nume_pren1").appendChild(tr);         
                                                                td=document.createElement("TD");td.id="Functie_Loc1_tr1_c1";td.style.width="40px";td.style.fontSize="14px";td.innerHTML="Functia:";document.getElementById("Functie_Loc1_tr1").appendChild(td);
                                                                td=document.createElement("TD");td.id="Functie_Loc1_tr1_c2";td.style.width="350px";td.style.fontSize="14px";td.innerHTML=ls[salariat_in_ls][6];td.style.borderBottom="1px solid black";document.getElementById("Functie_Loc1_tr1").appendChild(td); //////////////////////////////// introducere date
                                                                tr=document.createElement("TR");tr.id="Functie_Loc1_tr2";document.getElementById("nume_pren1").appendChild(tr);         
                                                                td=document.createElement("TD");td.id="Functie_Loc1_tr2_c1";td.style.width="40px";td.style.fontSize="14px";td.innerHTML="Locul de munca:";document.getElementById("Functie_Loc1_tr2").appendChild(td);
                                                                td=document.createElement("TD");td.id="Functie_Loc1_tr2_c2";td.style.width="350px";td.style.fontSize="14px";td.innerHTML=ultimele2structuri;td.style.borderBottom="1px solid black";document.getElementById("Functie_Loc1_tr2").appendChild(td); //////////////////////////////// introducere date
                                                               
                                                                
                                                                tabel=document.createElement('TABLE');tabel.style.width="400px";tabel.id="Aviz_Recomandari1";document.getElementById("tab_introducere_fise").appendChild(tabel);
                                                                tr=document.createElement("TR");tr.id="Aviz_Recomandari1_tr1";document.getElementById("Aviz_Recomandari1").appendChild(tr);         
                                                                td=document.createElement("TD");td.id="Aviz_Recomandari1_tr1_c1";td.style.width="200px";document.getElementById("Aviz_Recomandari1_tr1").appendChild(td);
                                                                td=document.createElement("TD");td.id="Aviz_Recomandari1_tr1_c2";td.style.width="200px";document.getElementById("Aviz_Recomandari1_tr1").appendChild(td);
                                                                
                                                                tabel=document.createElement('TABLE');tabel.style.width="200px";tabel.id="Aviz1";document.getElementById("Aviz_Recomandari1_tr1_c1").appendChild(tabel);

                                                                tr=document.createElement("TR");tr.id="Aviz1_tr2";document.getElementById("Aviz1").appendChild(tr); 
                                                                        td=document.createElement("TD");td.id="Aviz1_tr2_c1";td.style.fontSize="14px";td.innerHTML="<b>APT:</b>";document.getElementById("Aviz1_tr2").appendChild(td);
                                                                        td=document.createElement("TD");td.id="Aviz1_tr2_c2";document.getElementById("Aviz1_tr2").appendChild(td);
                                                                        a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_apt_1"; a.onclick=function(){debif(event.target.id);};document.getElementById("Aviz1_tr2_c2").appendChild(a);   //////////////////////////////// introducere date
                                                                tr=document.createElement("TR");tr.id="Aviz1_tr3";document.getElementById("Aviz1").appendChild(tr); 
                                                                        td=document.createElement("TD");td.id="Aviz1_tr3_c1";td.style.fontSize="14px";td.innerHTML="<b>APT CONDITIONAT:</b>";document.getElementById("Aviz1_tr3").appendChild(td);
                                                                        td=document.createElement("TD");td.id="Aviz1_tr3_c2";document.getElementById("Aviz1_tr3").appendChild(td);
                                                                        a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_apt_cond_1"; a.onclick=function(){debif(event.target.id);}; document.getElementById("Aviz1_tr3_c2").appendChild(a);   //////////////////////////////// introducere date
                                                                tr=document.createElement("TR");tr.id="Aviz1_tr4";document.getElementById("Aviz1").appendChild(tr); 
                                                                        td=document.createElement("TD");td.id="Aviz1_tr4_c1";td.style.fontSize="14px";td.innerHTML="<b>INAPT TEMPORAR:</b>";document.getElementById("Aviz1_tr4").appendChild(td);
                                                                        td=document.createElement("TD");td.id="Aviz1_tr4_c2";document.getElementById("Aviz1_tr4").appendChild(td);
                                                                        a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_inapt_temporar_1"; a.onclick=function(){debif(event.target.id);}; document.getElementById("Aviz1_tr4_c2").appendChild(a);   //////////////////////////////// introducere date
                                                                tr=document.createElement("TR");tr.id="Aviz1_tr5";document.getElementById("Aviz1").appendChild(tr); 
                                                                        td=document.createElement("TD");td.id="Aviz1_tr5_c1";td.style.fontSize="14px";td.innerHTML="<b>INAPT:</b>"; document.getElementById("Aviz1_tr5").appendChild(td);
                                                                        td=document.createElement("TD");td.id="Aviz1_tr5_c2";document.getElementById("Aviz1_tr5").appendChild(td);
                                                                        a=document.createElement('input');a.type="checkbox"; a.style.width="17px"; a.style.height="17px"; a.id="c_inapt_1"; a.onclick=function(){debif(event.target.id);}; document.getElementById("Aviz1_tr5_c2").appendChild(a);   //////////////////////////////// introducere date 
                                                                
                                                                tabel=document.createElement('TABLE');tabel.style.width="180px";tabel.id="Recomandari";document.getElementById("Aviz_Recomandari1_tr1_c2").appendChild(tabel);
                                                                tr=document.createElement("TR");tr.id="Recomandari_tr1";document.getElementById("Recomandari").appendChild(tr); 
                                                                        td=document.createElement("TD");td.id="Recomandari_tr1_c1";td.style.fontSize="14px";td.innerHTML="<b>LUCRU LA INALTIME:</b>";document.getElementById("Recomandari_tr1").appendChild(td);
                                                                        td=document.createElement("TD");td.id="Recomandari_tr1_c2";document.getElementById("Recomandari_tr1").appendChild(td);
                                                                        a=document.createElement('select'); a.id="R_inaltime"; document.getElementById("Recomandari_tr1_c2").appendChild(a);   //////////////////////////////// introducere date
                                                                        optiune=document.createElement("option");optiune.value="";optiune.innerHTML="";document.getElementById("R_inaltime").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="Da";optiune.innerHTML="Da";document.getElementById("R_inaltime").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="Nu";optiune.innerHTML="Nu";document.getElementById("R_inaltime").appendChild(optiune);  
                                                                tr=document.createElement("TR");tr.id="Recomandari_tr2";document.getElementById("Recomandari").appendChild(tr); 
                                                                        td=document.createElement("TD");td.id="Recomandari_tr2_c1";td.style.fontSize="14px";td.innerHTML="<b>TURA DE NOAPTE:</b>";document.getElementById("Recomandari_tr2").appendChild(td);
                                                                        td=document.createElement("TD");td.id="Recomandari_tr2_c2";document.getElementById("Recomandari_tr2").appendChild(td);
                                                                        a=document.createElement('select'); a.id="R_noapte"; document.getElementById("Recomandari_tr2_c2").appendChild(a);
                                                                        optiune=document.createElement("option");optiune.value="";optiune.innerHTML="";document.getElementById("R_noapte").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="Da";optiune.innerHTML="Da";document.getElementById("R_noapte").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="Nu";optiune.innerHTML="Nu";document.getElementById("R_noapte").appendChild(optiune);  
                                                                tr=document.createElement("TR");tr.id="Recomandari_tr3";document.getElementById("Recomandari").appendChild(tr); 
                                                                        td=document.createElement("TD");td.id="Recomandari_tr3_c1";td.style.fontSize="14px";td.innerHTML="<b>AUTO:</b>";document.getElementById("Recomandari_tr3").appendChild(td);
                                                                        td=document.createElement("TD");td.id="Recomandari_tr3_c2";document.getElementById("Recomandari_tr3").appendChild(td);
                                                                        a=document.createElement('select');a.id="R_auto"; document.getElementById("Recomandari_tr3_c2").appendChild(a);   //////////////////////////////// introducere date
                                                                        optiune=document.createElement("option");optiune.value="";optiune.innerHTML="";document.getElementById("R_auto").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="Da";optiune.innerHTML="Da";document.getElementById("R_auto").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="Nu";optiune.innerHTML="Nu";document.getElementById("R_auto").appendChild(optiune); 
                                                                a=document.createElement("label");a.id="Recomandari_scrise_label";a.innerHTML="Recomandari:";document.getElementById("tab_introducere_fise").appendChild(a);
                                                                a=document.createElement("textarea");a.id="Recomandari_scrise";a.cols="60"; a.rows="6";document.getElementById("tab_introducere_fise").appendChild(a);
                                                                
                                                                tabel=document.createElement('TABLE');tabel.style.width="400px";tabel.id="Data_Medic1";document.getElementById("tab_introducere_fise").appendChild(tabel);
                                                                tr=document.createElement("TR");tr.id="Data_Medic1_tr1";document.getElementById("Data_Medic1").appendChild(tr);
                                                                    td=document.createElement("TD");td.id="Data_Medic1_tr1_c1";td.style.fontSize="14px";td.innerHTML="Data:";document.getElementById("Data_Medic1_tr1").appendChild(td);
                                                                    td=document.createElement("TD");td.id="Data_Medic1_tr1_c2";td.style.fontSize="14px";document.getElementById("Data_Medic1_tr1").appendChild(td); 
                                                                        a=document.createElement("input");a.type="date";a.id="Data_fisa_re";a.size="10";document.getElementById("Data_Medic1_tr1_c2").appendChild(a);//////////////////////////////// introducere date
                                                                        
                                                                        a=document.createElement('label');a.id="l_Reset_data_fisa_re";a.innerHTML="&nbsp&nbsp"; document.getElementById("Data_Medic1_tr1_c2").appendChild(a);
                                                                        a=document.createElement("input");a.type="submit";a.id="Reset_data_fisa_re";a.value="Reset";
                                                                        a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                        a.onmouseenter=function(){document.getElementById("Reset_data_fisa_re").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                        a.onmouseleave=function(){document.getElementById("Reset_data_fisa_re").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                        a.onclick=function(){document.getElementById("Data_fisa_re").value="";};
                                                                        document.getElementById("Data_Medic1_tr1_c2").appendChild(a);
                                                                tr=document.createElement("TR");tr.id="Data_Medic1_tr2";document.getElementById("Data_Medic1").appendChild(tr);
                                                                    td=document.createElement("TD");td.id="Data_Medic1_tr2_c1";td.style.fontSize="14px";td.innerHTML="Medic MM:";document.getElementById("Data_Medic1_tr2").appendChild(td);
                                                                    td=document.createElement("TD");td.id="Data_Medic1_tr2_c2";td.style.fontSize="14px";td.innerHTML=numelog;document.getElementById("Data_Medic1_tr2").appendChild(td);                                                                
                                                                tr=document.createElement("TR");tr.id="Data_Medic1_tr3";document.getElementById("Data_Medic1").appendChild(tr);  
                                                                    td=document.createElement("TD");td.id="Data_Medic1_tr3_c1";td.style.fontSize="14px";td.innerHTML="Examenul urmator:";document.getElementById("Data_Medic1_tr3").appendChild(td);
                                                                    td=document.createElement("TD");td.id="Data_Medic1_tr3_c2";td.style.fontSize="14px";document.getElementById("Data_Medic1_tr3").appendChild(td);
                                                                        a=document.createElement('select'); a.id="adauga_luni"; a.onchange=function(){schimbadata();};document.getElementById("Data_Medic1_tr3_c2").appendChild(a);   //////////////////////////////// introducere date
                                                                        optiune=document.createElement("option");optiune.value="";optiune.innerHTML="";document.getElementById("adauga_luni").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="3 luni";optiune.innerHTML="3 luni";document.getElementById("adauga_luni").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="6 luni";optiune.innerHTML="6 luni";document.getElementById("adauga_luni").appendChild(optiune);
                                                                        optiune=document.createElement("option");optiune.value="12 luni";optiune.innerHTML="12 luni";document.getElementById("adauga_luni").appendChild(optiune); 
                                                                        a=document.createElement("input");a.type="date";a.id="Data_examen_urmator";a.size="10";document.getElementById("Data_Medic1_tr3_c2").appendChild(a);//////////////////////////////// introducere date
                                                                        
                                                                        a=document.createElement('label');a.id="l_Reset_data_examen_urmator";a.innerHTML="&nbsp&nbsp"; document.getElementById("Data_Medic1_tr3_c2").appendChild(a);
                                                                        a=document.createElement("input");a.type="submit";a.id="Reset_data_examen_urmator";a.value="Reset";
                                                                        a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                        a.onmouseenter=function(){document.getElementById("Reset_data_examen_urmator").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                        a.onmouseleave=function(){document.getElementById("Reset_data_examen_urmator").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                        a.onclick=function(){document.getElementById("Data_examen_urmator").value="";};
                                                                        document.getElementById("Data_Medic1_tr3_c2").appendChild(a);

                                                                tr=document.createElement("TR");tr.id="tr_if_6";tr.name="tr_if";document.getElementById("tab_introducere_fise").appendChild(tr);
                                                                //td=document.createElement("TD");td.id="f/6/1";document.getElementById("tr_if_6").appendChild(td);
                                                                td=document.createElement("TD");td.id="f/6/2";td.style.width="400px";td.style.display = "flex";td.style.justifyContent="space-between"; document.getElementById("tr_if_6").appendChild(td);
    
                                                                a=document.createElement("input");a.type="submit";a.id="Salveaza_fise";a.value="Salveaza";
                                                                a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                a.onmouseenter=function(){document.getElementById("Salveaza_fise").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                a.onmouseleave=function(){document.getElementById("Salveaza_fise").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                a.onclick=function(){sal_fise();};
                                                                document.getElementById("f/6/2").appendChild(a);
                                                                    
                                                                a=document.createElement("input");a.type="submit";a.id="Modifica_fise";a.value="Modifica";
                                                                a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                a.onmouseenter=function(){document.getElementById("Modifica_fise").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                a.onmouseleave=function(){document.getElementById("Modifica_fise").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                a.onclick=function(){mod_fise();goleste_campurile_fise();};
                                                                document.getElementById("f/6/2").appendChild(a);
                                                                    
                                                                //a=document.createElement("input");a.type="submit";a.id="Sterge_fise";a.value="Sterge";
                                                                //a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                //a.onmouseenter=function(){document.getElementById("Sterge_fise").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                //a.onmouseleave=function(){document.getElementById("Sterge_fise").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                //a.onclick=function(){sterge_fise();goleste_campurile_fise();};
                                                                //document.getElementById("f/6/2").appendChild(a);
                                                                //                                                                    
                                                                //a=document.createElement("input");a.type="submit";a.id="Curata_fise";a.value="Curata";
                                                                //a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                //a.onmouseenter=function(){document.getElementById("Curata_fise").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                //a.onmouseleave=function(){document.getElementById("Curata_fise").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                //a.onclick=function(){goleste_campurile_fise();};
                                                                //document.getElementById("f/6/2").appendChild(a);
                                                                //
                                                                //a=document.createElement("a");a.innerHTML="Print fisa";a.id="Intocmeste_fisa";a.value="Intocmeste"; //a.type="submit";
                                                                //a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                //a.onmouseenter=function(){document.getElementById("Intocmeste_fisa").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                //a.onmouseleave=function(){document.getElementById("Intocmeste_fisa").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                //a.setAttribute('href',"fisaaptitudinedelistat.html");
                                                                //a.target="blank";
                                                                //a.onclick=function(){
                                                                //        if (cheie_f!=="") {
                                                                //                localStorage.removeItem("cheie_f");
                                                                //                localStorage.setItem("cheie_f",cheie_f);                                                                        
                                                                //        }
                                                                //    };
                                                                document.getElementById("f/6/2").appendChild(a);
                                            };
                                           document.getElementById("sal").appendChild(tr);
                                           //td=document.createElement("TD");td.id="["+i+"]_[0]_sal";td.name="["+i+"]_[0]_sal";td.innerHTML=ls[i][0];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[1]_sal";td.name="["+i+"]_[1]_sal";td.innerHTML=ls[i][1];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[2]_sal";td.name="["+i+"]_[2]_sal";td.innerHTML=ls[i][2];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[3]_sal";td.name="["+i+"]_[3]_sal";td.innerHTML=ls[i][3];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[4]_sal";td.name="["+i+"]_[4]_sal";td.innerHTML=Math.trunc((numaruldezile-totalzile)/365);td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[5]_sal";td.name="["+i+"]_[5]_sal";td.innerHTML=sex;td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[6]_sal";td.name="["+i+"]_[6]_sal";td.innerHTML=ls[i][6];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[7]_sal";td.name="["+i+"]_[7]_sal";td.innerHTML=ls[i][7];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                          // td=document.createElement("TD");td.id="["+i+"]_[8]_sal";td.name="["+i+"]_[8]_sal";td.innerHTML=ls[i][8];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                          // td=document.createElement("TD");td.id="["+i+"]_[9]_sal";td.name="["+i+"]_[9]_sal";td.innerHTML=ls[i][9];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[11]_sal";td.name="["+i+"]_[11]_sal";td.innerHTML=ls[i][11];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[12]_sal";td.name="["+i+"]_[12]_sal";td.innerHTML=ls[i][12];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[13]_sal";td.name="["+i+"]_[13]_sal";td.innerHTML=ls[i][13];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[14]_sal";td.name="["+i+"]_[14]_sal";td.innerHTML=ls[i][14];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[15]_sal";td.name="["+i+"]_[15]_sal";td.innerHTML=ls[i][15];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                           td=document.createElement("TD");td.id="["+i+"]_[16]_sal";td.name="["+i+"]_[16]_sal";td.innerHTML=ls[i][16];td.style.border="1px solid black";document.getElementById(ls[i][1]).appendChild(td);
                                       }                            
}

function schimbadata(){
    if (document.getElementById("Data_fisa_re").value!=="") {
        d=document.getElementById("Data_fisa_re").value;
        an=d.substr(0,d.indexOf("-"));
        d=d.substr(d.indexOf("-")+1,d.length);
        luna=d.substr(0,d.indexOf("-"));
        d=d.substr(d.indexOf("-")+1,d.length);
        zi=d;
        if (document.getElementById("adauga_luni").selectedIndex==1){catadaug=3;}
        if (document.getElementById("adauga_luni").selectedIndex==2){catadaug=6;}
        if (document.getElementById("adauga_luni").selectedIndex==3){catadaug=12;}
        //alert(luna+" + "+catadaug);
        luna=parseInt(luna)+catadaug;
        if (luna>=12) {
            an=parseInt(an)+1;
            luna=luna-12;
        }
        if (luna<10) {
            document.getElementById("Data_examen_urmator").value=an+"-0"+luna+"-"+zi;
        }else{document.getElementById("Data_examen_urmator").value=an+"-"+luna+"-"+zi;}
        
       // $data_plus = date('Y-m-d', strtotime($date . ' + 7 days'));      
    }else{alert('Va rog sa puneti o data calendaristica in campul Data');}

}

function debif(ldid) {
    //debifes orice check si ulterior rebifez casuta care a fost bifata
    document.getElementById("c_apt_1").checked=false;
    document.getElementById("c_apt_cond_1").checked=false;
    document.getElementById("c_inapt_temporar_1").checked=false;
    document.getElementById("c_inapt_1").checked=false;
    document.getElementById(ldid).checked=true;
}

function genereaza_tabel_boli(marca_boala) {
                                                               var xb=new XMLHttpRequest();
                                                               xb.onreadystatechange=function(){
                                                                  if (xb.readyState==4 && xb.status==200){
                                                                    document.getElementById("boli_cronice").innerHTML="";                                                                    
                                                                    a=document.createElement("input");a.type="submit";a.id="Curata_boli";a.value="Insereaza boala cronica";
                                                                    a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                    a.onmouseenter=function(){document.getElementById("Curata_boli").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                    a.onmouseleave=function(){document.getElementById("Curata_boli").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                    a.onclick=function(){goleste_campurile_boli();};
                                                                    document.getElementById("boli_cronice").appendChild(a);
                                                                    if (xb.responseText!=="Nu exista") {
                                                                        boli=JSON.parse(atob(decodeURIComponent(xb.responseText)));
                                                                        //generez un tabelul cu concediile de boala aferente salariatului selectat
                                                                              if (document.getElementById("t_b")) {document.getElementById("t_b").remove();}
                                                                                          //generez tabelul
                                                                                          tabel=document.createElement('TABLE');
                                                                                          tabel.id="t_b";
                                                                                          tabel.name="t_b";
                                                                                          tabel.classList.add("table", "is-striped", "is-bordered", "is-hoverable", "$table-row-hover-background-color");
                                                                                          tabel.style.border="1px solid black";
                                                                                          tabel.style.borderCollapse="collapse";
                                                                                          tabel.onclick=function(){
                                                                                                document.getElementById("div_introducere_boli").style.display='block'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu boli
                                                                                          };
                                                                                          document.getElementById("boli_cronice").appendChild(tabel);
                                                     
                                                                                              tr=document.createElement("TR");
                                                                                              tr.id="tr_b_00";
                                                                                              tr.name="tr_b_00";
                                                                                              tr.className = "tabel_header";
                                                                                              tr.style.border="1px solid black";
                                                                                              document.getElementById("t_b").appendChild(tr);
                                                     
                                                                                              //th=document.createElement("TH");th.id="th_b_[0]";th.name="th_b_[0]";th.style.border="1px solid black";th.innerHTML="Cheie";document.getElementById("tr_b_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_b_[1]";th.name="th_b_[1]";th.style.border="1px solid black";th.innerHTML="Marca";document.getElementById("tr_b_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_b_[2]";th.name="th_b_[2]";th.style.border="1px solid black";th.innerHTML="Cod";document.getElementById("tr_b_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_b_[3]";th.name="th_b_[3]";th.style.border="1px solid black";th.innerHTML="Denumire Cod Diagnostic";document.getElementById("tr_b_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_b_[4]";th.name="th_b_[4]";th.style.border="1px solid black";th.innerHTML="Afectiunea";document.getElementById("tr_b_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_b_[5]";th.name="th_b_[5]";th.style.border="1px solid black";th.innerHTML="Aparat";document.getElementById("tr_b_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_b_[6]";th.name="th_b_[6]";th.style.border="1px solid black";th.innerHTML="Incepand cu";document.getElementById("tr_b_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_b_[7]";th.name="th_b_[7]";th.style.border="1px solid black";th.innerHTML="Pana la data";document.getElementById("tr_b_00").appendChild(th);                                                           
                                                                                              th=document.createElement("TH");th.id="th_b_[8]";th.name="th_b_[8]";th.style.border="1px solid black";document.getElementById("tr_b_00").appendChild(th);     //se va introduce butonul de editeza
                                                                                              th=document.createElement("TH");th.id="th_b_[9]";th.name="th_b_[9]";th.style.border="1px solid black";document.getElementById("tr_b_00").appendChild(th);     //se va introdcue butonul de stergere
                                                                                            for (i=0;i<boli.length;i++) { ///////////// daca se reampart nr de venituri per coloana atunci se modifica si aici  
                                                                                                tr=document.createElement("TR");tr.id="tr_b_"+i;tr.name="tr_b_"+i;tr.style.border="1px solid black";tr.className = "tabel_linie";document.getElementById("t_b").appendChild(tr);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[0]_b";td.name="["+i+"]_[0]_b";td.innerHTML=boli[i][0];td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[1]_b";td.name="["+i+"]_[1]_b";td.innerHTML=boli[i][1];td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[2]_b";td.name="["+i+"]_[2]_b";td.innerHTML=boli[i][2];td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[3]_b";td.name="["+i+"]_[3]_b";td.innerHTML=boli[i][3];td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[4]_b";td.name="["+i+"]_[4]_b";td.innerHTML=boli[i][4];td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[5]_b";td.name="["+i+"]_[5]_b";td.innerHTML=boli[i][5];td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[6]_b";td.name="["+i+"]_[6]_b";td.innerHTML=boli[i][6];td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[7]_b";td.name="["+i+"]_[7]_b";td.innerHTML=boli[i][7];td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[8]_b";td.name="["+i+"]_[8]_b";td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                a=document.createElement("input");a.type="submit";a.id="Editeaza_"+i;a.value="Editeaza";a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                                                a.onmouseenter=function(){document.getElementById(event.target.id).className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                                                a.onmouseleave=function(){document.getElementById(event.target.id).className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                                                a.onclick=function(){
                                                                                                    //extrag numarul liniei
                                                                                                    idul=event.target.id;
                                                                                                    idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                    //idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                    cheie_bo=parseInt(boli[idul][0]);//idul
                                                                                                    document.getElementById("Cod_Diagnostic").innerHTML=boli[idul][2];//idul
                                                                                                    document.getElementById("Denumire_Diagnostic").value=boli[idul][3];//idul
                                                                                                    document.getElementById("Aparat").innerHTML=boli[idul][5];//idul
                                                                                                    document.getElementById("Afectiunea").value=boli[idul][4];//idul
                                                                                                    document.getElementById("Incepand_cu").value=boli[idul][6];//idul
                                                                                                    document.getElementById("Pana_la").value=boli[idul][7];//idul
                                                                                                    //repozitionez tabelul cu introdus date privind bolile
                                                                                                    //document.getElementById("div_introducere_boli").style.top = document.getElementById(event.target.id).getBoundingClientRect().bottom+"px";
                                                                                                    //document.getElementById("div_introducere_boli").style.left = document.getElementById(event.target.id).getBoundingClientRect().left+"px";
                                                                                                    //div. "50px"; div.style.left = "calc(100% - 600px)";
                                                                                                };
                                                                                                document.getElementById("["+i+"]_[8]_b").appendChild(a);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[9]_b";td.name="["+i+"]_[9]_b";td.style.border="1px solid black";document.getElementById("tr_b_"+i).appendChild(td);
                                                                                                a=document.createElement("input");a.type="submit";a.id="Sterge_"+i;a.value="Sterge";a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                                                a.onmouseenter=function(){document.getElementById(event.target.id).className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                                                a.onmouseleave=function(){document.getElementById(event.target.id).className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                                                a.onclick=function(){
                                                                                                     mesaj=prompt("Daca chiar doriti sa efectuati stergerea, lasati mesajul scris mai jos respectiv - da. In caz contrar stergeti acest mesaj.","da");
                                                                                                        if (mesaj=="da") {
                                                                                                          //extrag numarul liniei
                                                                                                          idul=event.target.id;
                                                                                                          idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                          cheie_bo=parseInt(boli[idul][0]);//idul
                                                                                                          sterge_boli();                                                                                                        
                                                                                                        }
                                                                                                    };
                                                                                                document.getElementById("["+i+"]_[9]_b").appendChild(a);
                                                                                               
                                                                                                
                                                                                                
                                                                                            }
                                                                                            //introduc si numarul de concedii
                                                                                            document.getElementById("th_cbu_[0]").innerHTML="Boli cronice: "+boli.length;
                                                                    }   //document.getElementById("boli_cronice").innerHTML=document.getElementById("boli_cronice").innerHTML+"Nu exista boli cronice in baza de date pentru aceasta persoana.";                                                                                                                        
                                                                  }
                                                               };                                                             
                                                               xb.open("POST","Salariati.php",true);
                                                               xb.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
                                                               xb.send("marca_boala="+marca_boala);

}

function genereaza_tabel_urgente(marca_urgente){
                                                                  var xu=new XMLHttpRequest();
                                                               xu.onreadystatechange=function(){
                                                                  if (xu.readyState==4 && xu.status==200){
                                                                    document.getElementById("urgent").innerHTML="";
                                                                    a=document.createElement("input");a.type="submit";a.id="Curata_urgente";a.value="Insereaza urgenta";
                                                                    a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                    a.onmouseenter=function(){document.getElementById("Curata_urgente").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                    a.onmouseleave=function(){document.getElementById("Curata_urgente").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                    a.onclick=function(){goleste_campurile_urgente();};
                                                                    document.getElementById("urgent").appendChild(a);
                                                                    if (xu.responseText!=="Nu exista") {
                                                                        urgente=JSON.parse(atob(decodeURIComponent(xu.responseText)));
                                                                        //generez un tabelul cu concediile de boala aferente salariatului selectat
                                                                              if (document.getElementById("t_u")) {document.getElementById("t_u").remove();}
                                                                                          //generez tabelul
                                                                                          tabel=document.createElement('TABLE');
                                                                                          tabel.id="t_u";
                                                                                          tabel.name="t_u";
                                                                                          tabel.classList.add("table", "is-striped", "is-bordered", "is-hoverable", "$table-row-hover-background-color");
                                                                                          tabel.style.border="1px solid black";
                                                                                          tabel.style.borderCollapse="collapse";
                                                                                          tabel.onclick=function(){
                                                                                                document.getElementById("div_introducere_urgente").style.display='block'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu boli
                                                                                          };
                                                                                          document.getElementById("urgent").appendChild(tabel);
                                                     
                                                                                              tr=document.createElement("TR");
                                                                                              tr.id="tr_u_00";
                                                                                              tr.name="tr_u_00";
                                                                                              
                                                                                              tr.className = "tabel_header";
                                                                                              tr.style.border="1px solid black";
                                                                                              document.getElementById("t_u").appendChild(tr);
                                                     
                                                                                              //th=document.createElement("TH");th.id="th_u_[0]";th.name="th_u_[0]";th.style.border="1px solid black";th.innerHTML="Cheie";document.getElementById("tr_u_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_u_[1]";th.name="th_u_[1]";th.style.border="1px solid black";th.innerHTML="Marca";document.getElementById("tr_u_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_u_[2]";th.name="th_u_[2]";th.style.border="1px solid black";th.innerHTML="Ambulanta";document.getElementById("tr_u_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_u_[3]";th.name="th_u_[3]";th.style.border="1px solid black";th.innerHTML="Data";document.getElementById("tr_u_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_u_[4]";th.name="th_u_[4]";th.style.border="1px solid black";th.innerHTML="Ora";document.getElementById("tr_u_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_u_[5]";th.name="th_u_[5]";th.style.border="1px solid black";th.innerHTML="Observatii";document.getElementById("tr_u_00").appendChild(th);                                                         
                                                                                              th=document.createElement("TH");th.id="th_u_[6]";th.name="th_u_[6]";th.style.border="1px solid black";document.getElementById("tr_u_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_u_[7]";th.name="th_u_[7]";th.style.border="1px solid black";document.getElementById("tr_u_00").appendChild(th); 
                                                                                            for (i=0;i<urgente.length;i++) { ///////////// daca se reampart nr de venituri per coloana atunci se modifica si aici
                                                                                                tr=document.createElement("TR");tr.id="tr_u_"+i;tr.name="tr_u_"+i;tr.style.border="1px solid black";
                                                                                                tr.className = "tabel_linie";document.getElementById("t_u").appendChild(tr);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[0]_u";td.name="["+i+"]_[0]_u";td.innerHTML=urgente[i][0];td.style.border="1px solid black";document.getElementById("tr_u_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[1]_u";td.name="["+i+"]_[1]_u";td.innerHTML=urgente[i][1];td.style.border="1px solid black";document.getElementById("tr_u_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[2]_u";td.name="["+i+"]_[2]_u";td.innerHTML=urgente[i][2];td.style.border="1px solid black";document.getElementById("tr_u_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[3]_u";td.name="["+i+"]_[3]_u";td.innerHTML=urgente[i][3];td.style.border="1px solid black";document.getElementById("tr_u_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[4]_u";td.name="["+i+"]_[4]_u";td.innerHTML=urgente[i][4];td.style.border="1px solid black";document.getElementById("tr_u_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[5]_u";td.name="["+i+"]_[5]_u";td.innerHTML=urgente[i][5];td.style.border="1px solid black";document.getElementById("tr_u_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[6]_u";td.name="["+i+"]_[6]_u";td.style.border="1px solid black";document.getElementById("tr_u_"+i).appendChild(td);
                                                                                                a=document.createElement("input");a.type="submit";a.id="Editeazau_"+i;a.value="Editeaza";a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                                                a.onmouseenter=function(){document.getElementById(event.target.id).className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                                                a.onmouseleave=function(){document.getElementById(event.target.id).className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                                                a.onclick=function(){
                                                                                                    //extrag numarul liniei
                                                                                                    idul=event.target.id;
                                                                                                    idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                    //idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                    cheie_u=parseInt(urgente[idul][0]);
                
                                                                                                    document.getElementById("uMarca").innerHTML=urgente[idul][1];
                                                                                                    document.getElementById("uAmbulanta").value=urgente[idul][2];
                                                                                                    document.getElementById("u_Data").value=urgente[idul][3];
                                                                                                    document.getElementById("u_Ora").value=urgente[idul][4];
                                                                                                    document.getElementById("uObservatii").value=urgente[idul][5];
                                                                                                    //repozitionez tabelul cu introdus date privind bolile
                                                                                                    //document.getElementById("div_introducere_urgente").style.top = document.getElementById(event.target.id).getBoundingClientRect().bottom+"px";
                                                                                                    //document.getElementById("div_introducere_urgente").style.left = document.getElementById(event.target.id).getBoundingClientRect().left+"px";
                                                                                                    //div. "50px"; div.style.left = "calc(100% - 600px)";
                                                                                                };
                                                                                                document.getElementById("["+i+"]_[6]_u").appendChild(a);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[7]_u";td.name="["+i+"]_[7]_u";td.style.border="1px solid black";document.getElementById("tr_u_"+i).appendChild(td);
                                                                                                a=document.createElement("input");a.type="submit";a.id="Stergeu_"+i;a.value="Sterge";a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                                                a.onmouseenter=function(){document.getElementById(event.target.id).className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                                                a.onmouseleave=function(){document.getElementById(event.target.id).className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                                                a.onclick=function(){
                                                                                                     mesaj=prompt("Daca chiar doriti sa efectuati stergerea, lasati mesajul scris mai jos respectiv - da. In caz contrar stergeti acest mesaj.","da");
                                                                                                        if (mesaj=="da") {
                                                                                                        idul=event.target.id;
                                                                                                        idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                        //idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                        cheie_u=parseInt(urgente[idul][0]);
                                                                                                          sterge_urgente();
                                                                                                        }
                                                                                                    };
                                                                                                document.getElementById("["+i+"]_[7]_u").appendChild(a);
                                                                                            }
                                                                                            //introduc si numarul de concedii
                                                                                            document.getElementById("th_cbu_[4]").innerHTML="Urgente: "+urgente.length;
                                                                    }  //document.getElementById("urgent").innerHTML=document.getElementById("urgent").innerHTML+"Nu exista urgente in baza de date pentru aceasta persoana.";                                                               
                                                                  }                                                                                                                                                                
                                                               };                                                             
                                                               xu.open("POST","Salariati.php",true);
                                                               xu.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
                                                               xu.send("marca_urgente="+marca_urgente);
}


function genereaza_tabel_fise(marca_fise){
                                                                  var xf=new XMLHttpRequest();
                                                               xf.onreadystatechange=function(){
                                                                  if (xf.readyState==4 && xf.status==200){
                                                                    document.getElementById("fise_aptitudini").innerHTML="";
                                                                    a=document.createElement("input");a.type="submit";a.id="Curata_fise";a.value="Insereaza fisa de aptitudine";
                                                                    a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                    a.onmouseenter=function(){document.getElementById("Curata_fise").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                    a.onmouseleave=function(){document.getElementById("Curata_fise").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                    a.onclick=function(){goleste_campurile_fise();};
                                                                    document.getElementById("fise_aptitudini").appendChild(a);
                                                                    if (xf.responseText!=="Nu exista") {
                                                                        fise=JSON.parse(atob(decodeURIComponent(xf.responseText)));
                                                                        //generez tabelul cu fisele de aptitudini aferente salariatului selectat
                                                                              if (document.getElementById("t_f")) {document.getElementById("t_f").remove();}
                                                                                          //generez tabelul
                                                                                          tabel=document.createElement('TABLE');
                                                                                          tabel.id="t_f";
                                                                                          tabel.name="t_f";
                                                                                          tabel.classList.add("table", "is-striped", "is-bordered", "is-hoverable", "$table-row-hover-background-color");
                                                                                          tabel.style.border="1px solid black";
                                                                                          tabel.style.borderCollapse="collapse";
                                                                                          tabel.onclick=function(){
                                                                                                document.getElementById("div_introducere_fise").style.display='block'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu fise
                                                                                         };
                                                                                          document.getElementById("fise_aptitudini").appendChild(tabel);
                                                                        

                                                                                              tr=document.createElement("TR");
                                                                                              tr.id="tr_f_00";
                                                                                              tr.name="tr_f_00";
                                                                                              
                                                                                              tr.className = "tabel_header";
                                                                                              tr.style.border="1px solid black";
                                                                                              document.getElementById("t_f").appendChild(tr);
                                                                        
                                                                                              //th=document.createElement("TH");th.id="th_f_[0]";th.name="th_f_[0]";th.style.border="1px solid black";th.innerHTML="Cheie";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[1]";th.name="th_f_[1]";th.style.border="1px solid black";th.innerHTML="Cal medicament";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[2]";th.name="th_f_[2]";th.style.border="1px solid black";th.innerHTML="Angajare";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[3]";th.name="th_f_[3]";th.style.border="1px solid black";th.innerHTML="Control medical";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[4]";th.name="th_f_[4]";th.style.border="1px solid black";th.innerHTML="Adaptare";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[5]";th.name="th_f_[5]";th.style.border="1px solid black";th.innerHTML="Reluarea muncii";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[6]";th.name="th_f_[6]";th.style.border="1px solid black";th.innerHTML="Supraveghere";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[7]";th.name="th_f_[7]";th.style.border="1px solid black";th.innerHTML="Altele";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[8]";th.name="th_f_[8]";th.style.border="1px solid black";th.innerHTML="Nr fisa";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_f_[9]";th.name="th_f_[9]";th.style.border="1px solid black";th.innerHTML="An fisa";document.getElementById("tr_f_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_f_[10]";th.name="th_f_[10]";th.style.border="1px solid black";th.innerHTML="Marca";document.getElementById("tr_f_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_f_[11]";th.name="th_f_[11]";th.style.border="1px solid black";th.innerHTML="Nume";document.getElementById("tr_f_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_f_[12]";th.name="th_f_[12]";th.style.border="1px solid black";th.innerHTML="Prenume";document.getElementById("tr_f_00").appendChild(th);
                                                                                              //th=document.createElement("TH");th.id="th_f_[13]";th.name="th_f_[13]";th.style.border="1px solid black";th.innerHTML="CNP";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[14]";th.name="th_f_[14]";th.style.border="1px solid black";th.innerHTML="Functia";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[15]";th.name="th_f_[15]";th.style.border="1px solid black";th.innerHTML="Loc munca";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[16]";th.name="th_f_[16]";th.style.border="1px solid black";th.innerHTML="Aviz";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[17]";th.name="th_f_[17]";th.style.border="1px solid black";th.innerHTML="Lucru la inaltime";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[18]";th.name="th_f_[18]";th.style.border="1px solid black";th.innerHTML="Tura de noapte";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[19]";th.name="th_f_[19]";th.style.border="1px solid black";th.innerHTML="Auto";th.style.fontSize="0.7rem";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[20]";th.name="th_f_[20]";th.style.border="1px solid black";th.innerHTML="Recomandari";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[21]";th.name="th_f_[21]";th.style.border="1px solid black";th.innerHTML="Data fisa";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[22]";th.name="th_f_[22]";th.style.border="1px solid black";th.innerHTML="Medic";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[23]";th.name="th_f_[23]";th.style.border="1px solid black";th.innerHTML="Next EX";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[24]";th.name="th_f_[24]";th.style.border="1px solid black";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[25]";th.name="th_f_[25]";th.style.border="1px solid black";document.getElementById("tr_f_00").appendChild(th);
                                                                                              th=document.createElement("TH");th.id="th_f_[26]";th.name="th_f_[26]";th.style.border="1px solid black";document.getElementById("tr_f_00").appendChild(th);  
                                                                                            for (i=0;i<fise.length;i++) { ///////////// daca se reampart nr de venituri per coloana atunci se modifica si aici
                                                                                                tr=document.createElement("TR");tr.id="tr_f_"+i;tr.name="tr_f_"+i;tr.style.border="1px solid black";
                                                                                                tr.className = "tabel_linie";document.getElementById("t_f").appendChild(tr);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[0]_f";td.name="["+i+"]_[0]_f";td.innerHTML=fise[i][0];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[1]_f";td.name="["+i+"]_[1]_f";if (fise[i][1]==1){td.innerHTML="x";} td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[2]_f";td.name="["+i+"]_[2]_f";if (fise[i][2]==1){td.innerHTML="x";} td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[3]_f";td.name="["+i+"]_[3]_f";if (fise[i][3]==1){td.innerHTML="x";} td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[4]_f";td.name="["+i+"]_[4]_f";if (fise[i][4]==1){td.innerHTML="x";} td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[5]_f";td.name="["+i+"]_[5]_f";if (fise[i][5]==1){td.innerHTML="x";} td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[6]_f";td.name="["+i+"]_[6]_f";if (fise[i][6]==1){td.innerHTML="x";} td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[7]_f";td.name="["+i+"]_[7]_f";if (fise[i][7]==1){td.innerHTML="x";} td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[8]_f";td.name="["+i+"]_[8]_f";td.innerHTML=fise[i][8];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[9]_f";td.name="["+i+"]_[9]_f";td.innerHTML=fise[i][9];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[10]_f";td.name="["+i+"]_[10]_f";td.innerHTML=fise[i][10];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[11]_f";td.name="["+i+"]_[11]_f";td.innerHTML=fise[i][11];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[12]_f";td.name="["+i+"]_[12]_f";td.innerHTML=fise[i][12];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[13]_f";td.name="["+i+"]_[13]_f";td.innerHTML=fise[i][13];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[14]_f";td.name="["+i+"]_[14]_f";td.innerHTML=fise[i][14];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[15]_f";td.name="["+i+"]_[15]_f";td.innerHTML=fise[i][15];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                if (fise[i][16]==1) {td=document.createElement("TD");td.id="["+i+"]_[16]_f";td.name="["+i+"]_[16]_f";td.innerHTML="Apt";td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);}
                                                                                                if (fise[i][16]==2) {td=document.createElement("TD");td.id="["+i+"]_[16]_f";td.name="["+i+"]_[16]_f";td.innerHTML="Apt Conditionat";td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);}
                                                                                                if (fise[i][16]==3) {td=document.createElement("TD");td.id="["+i+"]_[16]_f";td.name="["+i+"]_[16]_f";td.innerHTML="Inapt temporar";td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);}
                                                                                                if (fise[i][16]==4) {td=document.createElement("TD");td.id="["+i+"]_[16]_f";td.name="["+i+"]_[16]_f";td.innerHTML="Inapt";td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);}
                                                                                                //td=document.createElement("TD");td.id="["+i+"]_[16]_f";td.name="["+i+"]_[16]_f";td.innerHTML=fise[i][16];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[17]_f";td.name="["+i+"]_[17]_f";td.innerHTML=fise[i][17];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[18]_f";td.name="["+i+"]_[18]_f";td.innerHTML=fise[i][18];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[19]_f";td.name="["+i+"]_[19]_f";td.innerHTML=fise[i][19];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[20]_f";td.name="["+i+"]_[20]_f";td.innerHTML=fise[i][20];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[21]_f";td.name="["+i+"]_[21]_f";td.innerHTML=fise[i][21];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[22]_f";td.name="["+i+"]_[22]_f";td.innerHTML=fise[i][22];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[23]_f";td.name="["+i+"]_[23]_f";td.innerHTML=fise[i][23];td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[24]_f";td.name="["+i+"]_[24]_f";td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                a=document.createElement("input");a.type="submit";a.id="Editeazaf_"+i;a.value="Editeaza";a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                                                a.onmouseenter=function(){document.getElementById(event.target.id).className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                                                a.onmouseleave=function(){document.getElementById(event.target.id).className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                                                a.onclick=function(){
                                                                                                    //extrag numarul liniei
                                                                                                    idul=event.target.id;
                                                                                                    idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                    //idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                    cheie_f=parseInt(fise[idul][0]);
                                                                                                    
                                                                                                    //document.getElementById("om1_tr0_c4").innerHTML=fise[idul][0]; //marca
                                                                                                    if (fise[idul][1]==1){document.getElementById("c_0_1").checked=true;}else{document.getElementById("c_0_1").checked=false;}
                                                                                                    if (fise[idul][2]==1){document.getElementById("c_1_1").checked=true;}else{document.getElementById("c_1_1").checked=false;}
                                                                                                    if (fise[idul][3]==1){document.getElementById("c_1_2").checked=true;}else{document.getElementById("c_1_2").checked=false;}
                                                                                                    if (fise[idul][4]==1){document.getElementById("c_1_3").checked=true;}else{document.getElementById("c_1_3").checked=false;}
                                                                                                    if (fise[idul][5]==1){document.getElementById("c_1_4").checked=true;}else{document.getElementById("c_1_4").checked=false;}
                                                                                                    if (fise[idul][6]==1){document.getElementById("c_1_5").checked=true;}else{document.getElementById("c_1_5").checked=false;}
                                                                                                    if (fise[idul][7]==1){document.getElementById("c_1_6").checked=true;}else{document.getElementById("c_1_6").checked=false;}
                                                                                                    document.getElementById("numar_fisa").value=fise[idul][8];
                                                                                                    document.getElementById("anul").value=fise[idul][9];
                                                                                                    document.getElementById("om1_tr0_c4").value=fise[idul][10];//introduc marca salariatului
                                                                                                    document.getElementById("nume_pren1_tr1_c2").innerHTML=fise[idul][11];//memorez numele salariatului
                                                                                                    document.getElementById("nume_pren1_tr2_c2").innerHTML=fise[idul][12];//memorez prenumele salariatului
                                                                                                    document.getElementById("CNP1_tr1_c2").innerHTML=fise[idul][13];//memorez CNP-ul
                                                                                                    document.getElementById("Functie_Loc1_tr1_c2").innerHTML=fise[idul][14];//memorez functia
                                                                                                    document.getElementById("Functie_Loc1_tr2_c2").innerHTML=fise[idul][15];// memorez locul de munca - ultimele doua valori din baza sde date - structura in care se regaseste si structura superioara
                                                                                                    if (fise[idul][16]==1){document.getElementById("c_apt_1").checked=true;}else{document.getElementById("c_apt_1").checked=false;}
                                                                                                    if (fise[idul][16]==2){document.getElementById("c_apt_cond_1").checked=true;}else{document.getElementById("c_apt_cond_1").checked=false;}
                                                                                                    if (fise[idul][16]==3){document.getElementById("c_inapt_temporar_1").checked=true;}else{document.getElementById("c_inapt_temporar_1").checked=false;}
                                                                                                    if (fise[idul][16]==4){document.getElementById("c_inapt_1").checked=true;}else{document.getElementById("c_inapt_1").checked=false;}
                                                                                                    document.getElementById("R_inaltime").value=fise[idul][17];
                                                                                                    document.getElementById("R_noapte").value=fise[idul][18];
                                                                                                    document.getElementById("R_auto").value=fise[idul][19];
                                                                                                    
                                                                                                    document.getElementById("Recomandari_scrise").value=fise[idul][20];
                                                                                                    document.getElementById("Data_fisa_re").value=fise[idul][21];
                                                                                                    document.getElementById("Data_Medic1_tr2_c2").innerHTML=fise[idul][22];
                                                                                                    document.getElementById("Data_examen_urmator").value=fise[idul][23];
                                                                              
                                                                                                    //repozitionez tabelul cu introdus date privind fisele
                                                                                                    //document.getElementById("div_introducere_fise").style.top = document.getElementById(event.target.id).getBoundingClientRect().bottom+"px";
                                                                                                    //document.getElementById("div_introducere_fise").style.left = document.getElementById(event.target.id).getBoundingClientRect().left+"px";
                                                                                                };
                                                                                                document.getElementById("["+i+"]_[24]_f").appendChild(a);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[25]_f";td.name="["+i+"]_[25]_f";td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                a=document.createElement("input");a.type="submit";a.id="Stergef_"+i;a.value="Sterge";a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                                                a.onmouseenter=function(){document.getElementById(event.target.id).className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                                                a.onmouseleave=function(){document.getElementById(event.target.id).className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                                                a.onclick=function(){
                                                                                                     mesaj=prompt("Daca chiar doriti sa efectuati stergerea, lasati mesajul scris mai jos respectiv - da. In caz contrar stergeti acest mesaj.","da");
                                                                                                        if (mesaj=="da") {
                                                                                                        idul=event.target.id;
                                                                                                        idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                        //idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                        cheie_f=parseInt(fise[idul][0]);
                                                                                                          sterge_fise();
                                                                                                        }
                                                                                                    };
                                                                                                document.getElementById("["+i+"]_[25]_f").appendChild(a);
                                                                                                td=document.createElement("TD");td.id="["+i+"]_[26]_f";td.name="["+i+"]_[26]_f";td.style.border="1px solid black";document.getElementById("tr_f_"+i).appendChild(td);
                                                                                                a=document.createElement("a");a.innerHTML="Print fisa";a.id="Intocmestefisa_"+i;a.value="Intocmeste";
                                                                                                a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                                                a.setAttribute('href',"fisaaptitudinedelistat.html");
                                                                                                a.target="blank";                                                                                                
                                                                                                a.onmouseenter=function(){document.getElementById(event.target.id).className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                                                a.onmouseleave=function(){document.getElementById(event.target.id).className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                                                a.onclick=function(){
                                                                                                        idul=event.target.id;
                                                                                                        idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                        //idul=idul.substr(idul.indexOf("_")+1,event.target.parentElement.id.length);
                                                                                                        cheie_f=parseInt(fise[idul][0]);
                                                                                                        if (cheie_f!=="") {
                                                                                                                localStorage.removeItem("cheie_f");
                                                                                                                localStorage.setItem("cheie_f",cheie_f);                                                                        
                                                                                                        }
                                                                                                        document.getElementById("div_introducere_fise").style.display='none';
                                                                                                    };
                                                                                                document.getElementById("["+i+"]_[26]_f").appendChild(a);
                                                                                                
                                                                //
                                                                //a=document.createElement("a");a.innerHTML="Print fisa";a.id="Intocmeste_fisa";a.value="Intocmeste"; //a.type="submit";
                                                                //a.className="button is-rounded is-small has-text-black has-text-weight-bold";
                                                                //a.onmouseenter=function(){document.getElementById("Intocmeste_fisa").className="button is-focused is-rounded is-small has-text-link has-text-weight-bold";};
                                                                //a.onmouseleave=function(){document.getElementById("Intocmeste_fisa").className="button is-rounded is-small has-text-black has-text-weight-bold";};
                                                                //a.setAttribute('href',"fisaaptitudinedelistat.html");
                                                                //a.target="blank";
                                                                //a.onclick=function(){
                                                                //        if (cheie_f!=="") {
                                                                //                localStorage.removeItem("cheie_f");
                                                                //                localStorage.setItem("cheie_f",cheie_f);                                                                        
                                                                //        }
                                                                //    };
                                                                                                
                                                                                                
                                                                                                
                                                                                            }
                                                                                            //introduc si numarul de fise
                                                                                            document.getElementById("th_cbu_[6]").innerHTML="Fise de aptitudine: "+fise.length;
                                                                    }  //fise=[];document.getElementById("fise_aptitudini").innerHTML=document.getElementById("fise_aptitudini").innerHTML + "Nu exista fise de aptitudini mentionate in baza de date pentru aceasta persoana.";                                                                                                                               
                                                                  }
                                                               };                                                             
                                                               xf.open("POST","Salariati.php",true);
                                                               xf.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
                                                               xf.send("marca_fise="+marca_fise);
}

function intoarce_diagnostic_settime() {
                            if(typeof exista_timp=="undefined" || exista_timp == false){exista_timp = true; setTimeout(function(){intoarce_diagnostic();},600);}
}
function intoarce_diagnostic() {
              exista_timp = false;
              bo=document.getElementById("Denumire_Diagnostic").getBoundingClientRect().bottom;
              le=document.getElementById("Denumire_Diagnostic").getBoundingClientRect().left;
              if (document.getElementById("tabel_intoarce_cautari")) {document.getElementById("tabel_intoarce_cautari").remove();}              
              if (document.getElementById("Denumire_Diagnostic").value.length>2) {
                var xdi=new XMLHttpRequest();
                xdi.onreadystatechange=function(){
                    if (xdi.readyState==4 && xdi.status==200) {
                       tabela_diagnostice=[];
                       tabela_diagnostice=JSON.parse(atob(decodeURIComponent(xdi.responseText)));
                       a=document.createElement("TABLE");a.id="tabel_intoarce_cautari";a.style.position="relative";a.style.left=le+"px";a.style.zIndex="1010";document.body.appendChild(a); //document.getElementById("div_introducere_boli").appendChild(a);
                       var linie; var celula;
                       for (i=0;i<tabela_diagnostice.length;i++) {
                               linie=document.getElementById("tabel_intoarce_cautari").insertRow(-1);
                               celula=linie.insertCell(0);celula.innerHTML=tabela_diagnostice[i][2];celula.style.background="white";
                               celula.onmouseover=function(){
                                  //decolorez toate celulele
                                  for (i=0;i<document.getElementById("tabel_intoarce_cautari").rows.length;i++) {
                                    document.getElementById("tabel_intoarce_cautari").rows[i].cells[0].style.background="white";
                                  }
                                  nrlinie=event.target.parentElement.rowIndex;
                                  //identific celula si o colorez
                                  document.getElementById("tabel_intoarce_cautari").rows[nrlinie].cells[0].style.background="#cccccc";
                                };
                                celula.onmouseout=function(){
                                  //decolorez toate celulele
                                  for (i=0;i<document.getElementById("tabel_intoarce_cautari").rows.length;i++) {
                                    document.getElementById("tabel_intoarce_cautari").rows[i].cells[0].style.background="white";
                                  }
                                };
                                celula.onclick=function(){
                                   //identific celula in care se afla numele salariatului si il adaug in zona de se aproba
                                   nrlinie=event.target.parentElement.rowIndex;
                                   cheie_d=tabela_diagnostice[nrlinie][0];
                                   cod_d=tabela_diagnostice[nrlinie][1];
                                   nume_d=tabela_diagnostice[nrlinie][2];
                                   aparat_d=tabela_diagnostice[nrlinie][3];
                                   se_accepta(cheie_d,cod_d,nume_d,aparat_d);
                                   //sterg tabelul
                                    document.getElementById("tabel_intoarce_cautari").remove();
                                   //golesc pt_cautare_SelectSalariati
                                   //document.getElementById("pt_cautare_SelectSalariati").value="";
                                   document.getElementById("Denumire_Diagnostic").readOnly=true;
                                 };
                                
                       }
                      document.getElementById("tabel_intoarce_cautari").style.top=bo-document.getElementById("tabel_intoarce_cautari").getBoundingClientRect().top+"px";
                      //document.getElementById("tabel_intoarce_cautari").style.top=bo-document.getElementById("tabel_intoarce_cautari").getBoundingClientRect().top-document.getElementById("tabel_intoarce_cautari").offsetHeight-20; 
                    }
                };                
                xdi.open("POST","Salariati.php",true);
                xdi.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                xdi.send("cauta_diag=" + document.getElementById("Denumire_Diagnostic").value);
              }       
    
}
function se_accepta(cheie_d,cod_d,nume_d,aparat_d) {
       document.getElementById("Cod_Diagnostic").innerHTML=cod_d;
       document.getElementById("Denumire_Diagnostic").value=nume_d;
       document.getElementById("Aparat").innerHTML=aparat_d;
}

function sal_boli(){
    tsb=[];
    Marca=document.getElementById("Marca").innerHTML;
    tsb[0]=document.getElementById("Marca").innerHTML;
    tsb[1]=document.getElementById("Cod_Diagnostic").innerHTML;
    tsb[2]=document.getElementById("Denumire_Diagnostic").value;
    tsb[3]=document.getElementById("Aparat").innerHTML;
    tsb[4]=document.getElementById("Afectiunea").value;
    tsb[5]=document.getElementById("Incepand_cu").value;
    tsb[6]=document.getElementById("Pana_la").value;
    var x1=new XMLHttpRequest();
    x1.onreadystatechange=function(){
    if (x1.readyState==4 && x1.status==200){
                  genereaza_tabel_boli(Marca);
            }
    };                                                             
    x1.open("POST","Salariati.php",true);
    x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x1.send("salveaza_tsb="+btoa(encodeURIComponent(JSON.stringify(tsb))));
}

function mod_boli(){
    tsb=[];
    Marca=document.getElementById("Marca").innerHTML;
    tsb[0]=document.getElementById("Marca").innerHTML;
    tsb[1]=document.getElementById("Cod_Diagnostic").innerHTML;
    tsb[2]=document.getElementById("Denumire_Diagnostic").value;
    tsb[3]=document.getElementById("Afectiunea").value;
    tsb[4]=document.getElementById("Aparat").innerHTML;
    tsb[5]=document.getElementById("Incepand_cu").value;
    tsb[6]=document.getElementById("Pana_la").value;
    var x1=new XMLHttpRequest();
    x1.onreadystatechange=function(){
    if (x1.readyState==4 && x1.status==200){
                  genereaza_tabel_boli(Marca); 
            }
    };                                                             
    x1.open("POST","Salariati.php",true);
    x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x1.send("cheie_bo="+cheie_bo+"&modifica_tsb="+btoa(encodeURIComponent(JSON.stringify(tsb))));
}
function sterge_boli(){
    Marca=document.getElementById("Marca").innerHTML;
    var x1=new XMLHttpRequest();
    x1.onreadystatechange=function(){
    if (x1.readyState==4 && x1.status==200){
                  //golesc campurile
                  goleste_campurile_boli();
                  genereaza_tabel_boli(Marca);
            }
    };                                                             
    x1.open("POST","Salariati.php",true);
    x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x1.send("cheie_bo="+cheie_bo+"&sterge=orice");
}

function goleste_campurile_boli() {
     document.getElementById("div_introducere_boli").style.display='block'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu boli
     document.getElementById("Cod_Diagnostic").innerHTML="";
     document.getElementById("Denumire_Diagnostic").value="";
     document.getElementById("Afectiunea").value="";
     document.getElementById("Aparat").innerHTML="";
     document.getElementById("Incepand_cu").value="";
     document.getElementById("Pana_la").value="";
}


function sal_urgente(){
    tsu=[];
    Marca=document.getElementById("Marca").innerHTML;
    tsu[0]=document.getElementById("uMarca").innerHTML;
    tsu[1]=document.getElementById("uAmbulanta").value;
    tsu[2]=document.getElementById("u_Data").value;
    tsu[3]=document.getElementById("u_Ora").value;
    tsu[4]=document.getElementById("uObservatii").value;
    var x1=new XMLHttpRequest();
    x1.onreadystatechange=function(){
    if (x1.readyState==4 && x1.status==200){
                  genereaza_tabel_urgente(Marca);
            }
    };                                                             
    x1.open("POST","Salariati.php",true);
    x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x1.send("salveaza_tsu="+btoa(encodeURIComponent(JSON.stringify(tsu))));
}

function mod_urgente(){
    tsu=[];
    Marca=document.getElementById("Marca").innerHTML;
    tsu[0]=document.getElementById("uMarca").innerHTML;
    tsu[1]=document.getElementById("uAmbulanta").value;
    tsu[2]=document.getElementById("u_Data").value;
    tsu[3]=document.getElementById("u_Ora").value;
    tsu[4]=document.getElementById("uObservatii").value;
    var x1=new XMLHttpRequest();
    x1.onreadystatechange=function(){
    if (x1.readyState==4 && x1.status==200){
                  genereaza_tabel_urgente(Marca); 
            }
    };                                                             
    x1.open("POST","Salariati.php",true);
    x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x1.send("cheie_u="+cheie_u+"&modifica_tsu="+btoa(encodeURIComponent(JSON.stringify(tsu))));
}
function sterge_urgente(){
    Marca=document.getElementById("Marca").innerHTML;
    var x1=new XMLHttpRequest();
    x1.onreadystatechange=function(){
    if (x1.readyState==4 && x1.status==200){
                  //golesc campurile
                  goleste_campurile_urgente();
                  genereaza_tabel_urgente(Marca);
            }
    };                                                             
    x1.open("POST","Salariati.php",true);
    x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x1.send("cheie_u="+cheie_u+"&stergeu=orice");
}

function goleste_campurile_urgente() {
     document.getElementById("div_introducere_urgente").style.display='block'; //div-ul in care se regaseste tabelul prin care se introduc date in tabela cu urgente
     document.getElementById("uAmbulanta").value="";
     document.getElementById("u_Data").value="";
     document.getElementById("u_Ora").value="";
     document.getElementById("uObservatii").value="";
}



function sal_fise(){
    //verific existenta minimului de informatii
    ok=true;
    if (document.getElementById("numar_fisa").value=="") {
        alert("Introduceti numarul fisei");
        ok=false;
    }
    if (document.getElementById("anul").value=="") {
        alert("Introduceti anul fisei");
        ok=false;
    }
    if (document.getElementById("Data_fisa_re").value=="") {
        alert("Introduceti data de examinare");
        ok=false;
    }
    if (document.getElementById("Data_examen_urmator").value=="") {
        alert("Introduceti data urmatoarei examinari");
        ok=false;
    }
    nri=0;
    if (document.getElementById("c_apt_1").checked){nri=nri+1;optiunea=1;}
    if (document.getElementById("c_apt_cond_1").checked){nri=nri+1;optiunea=2;}
    if (document.getElementById("c_inapt_temporar_1").checked){nri=nri+1;optiunea=3;}
    if (document.getElementById("c_inapt_1").checked){nri=nri+1;optiunea=4;}
    if (nri==0||nri>1) {
        alert("Bifati o singura casuta dintre optiunile: APT / APT CONDITIONAT / INAPT TEMPORAR / INAPT ");
        ok=false;
    }

    

    if (ok==true) {
       tsf=[];
       Marca=document.getElementById("om1_tr0_c4").innerHTML;       
       if (document.getElementById("c_0_1").checked) {tsf[0]=1;}else{tsf[0]=0;}
       if (document.getElementById("c_1_1").checked) {tsf[1]=1;}else{tsf[1]=0;}
       if (document.getElementById("c_1_2").checked) {tsf[2]=1;}else{tsf[2]=0;}
       if (document.getElementById("c_1_3").checked) {tsf[3]=1;}else{tsf[3]=0;}
       if (document.getElementById("c_1_4").checked) {tsf[4]=1;}else{tsf[4]=0;}
       if (document.getElementById("c_1_5").checked) {tsf[5]=1;}else{tsf[5]=0;}
       if (document.getElementById("c_1_6").checked) {tsf[6]=1;}else{tsf[6]=0;}
       tsf[7]=document.getElementById("numar_fisa").value;
       tsf[8]=document.getElementById("anul").value;
       tsf[9]=document.getElementById("nume_pren1_tr1_c2").innerHTML;//memorez numele salariatului
       tsf[10]=document.getElementById("nume_pren1_tr2_c2").innerHTML;//memorez prenumele salariatului
       tsf[11]=document.getElementById("CNP1_tr1_c2").innerHTML;//memorez CNP-ul
       tsf[12]=document.getElementById("Functie_Loc1_tr1_c2").innerHTML;//memorez functia
       tsf[13]=document.getElementById("Functie_Loc1_tr2_c2").innerHTML;// memorez locul de munca - ultimele doua valori din baza sde date - structura in care se regaseste si structura superioara
       //memorez ce optiune a fost aleasa dintre APT / APT CONDITIONAT / INAPT TEMPORAR / INAPT - informatia este memorata in variabila optiunea de mai sus
       tsf[14]=optiunea;
       tsf[15]=document.getElementById("R_inaltime").options[document.getElementById("R_inaltime").selectedIndex].value;
       tsf[16]=document.getElementById("R_noapte").options[document.getElementById("R_noapte").selectedIndex].value;
       tsf[17]=document.getElementById("R_auto").options[document.getElementById("R_auto").selectedIndex].value;
       tsf[18]=document.getElementById("Recomandari_scrise").value;
       tsf[19]=document.getElementById("Data_fisa_re").value;
       tsf[20]=document.getElementById("Data_Medic1_tr2_c2").innerHTML;       
       tsf[21]=document.getElementById("Data_examen_urmator").value;

    }
    var x1=new XMLHttpRequest();
    x1.onreadystatechange=function(){
    if (x1.readyState==4 && x1.status==200){
                  genereaza_tabel_fise(Marca);
                  document.getElementById("div_introducere_fise").style.display='none';
            }
    };                                                             
    x1.open("POST","Salariati.php",true);
    x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x1.send("salveaza_tsf="+btoa(encodeURIComponent(JSON.stringify(tsf)))+"&Marca="+Marca);
    goleste_campurile_fise();
}

function mod_fise(){
    //verific existenta minimului de informatii
    ok=true;
    if (document.getElementById("numar_fisa").value=="") {
        alert("Introduceti numarul fisei");
        ok=false;
    }
    if (document.getElementById("anul").value=="") {
        alert("Introduceti anul fisei");
        ok=false;
    }
    if (document.getElementById("Data_fisa_re").value=="") {
        alert("Introduceti data de examinare");
        ok=false;
    }
    if (document.getElementById("Data_examen_urmator").value=="") {
        alert("Introduceti data urmatoarei examinari");
        ok=false;
    }
    nri=0;
    if (document.getElementById("c_apt_1").checked){nri=nri+1;optiunea=1;}
    if (document.getElementById("c_apt_cond_1").checked){nri=nri+1;optiunea=2;}
    if (document.getElementById("c_inapt_temporar_1").checked){nri=nri+1;optiunea=3;}
    if (document.getElementById("c_inapt_1").checked){nri=nri+1;optiunea=4;}
    if (nri==0||nri>1) {
        alert("Bifati o singura casuta dintre optiunile: APT / APT CONDITIONAT / INAPT TEMPORAR / INAPT ");
        ok=false;
    }

    if (ok==true) {
       tsf=[];
       Marca=document.getElementById("om1_tr0_c4").innerHTML;       
       if (document.getElementById("c_0_1").checked) {tsf[0]=1;}else{tsf[0]=0;}
       if (document.getElementById("c_1_1").checked) {tsf[1]=1;}else{tsf[1]=0;}
       if (document.getElementById("c_1_2").checked) {tsf[2]=1;}else{tsf[2]=0;}
       if (document.getElementById("c_1_3").checked) {tsf[3]=1;}else{tsf[3]=0;}
       if (document.getElementById("c_1_4").checked) {tsf[4]=1;}else{tsf[4]=0;}
       if (document.getElementById("c_1_5").checked) {tsf[5]=1;}else{tsf[5]=0;}
       if (document.getElementById("c_1_6").checked) {tsf[6]=1;}else{tsf[6]=0;}
       tsf[7]=document.getElementById("numar_fisa").value;
       tsf[8]=document.getElementById("anul").value;
       tsf[9]=document.getElementById("nume_pren1_tr1_c2").innerHTML;//memorez numele salariatului
       tsf[10]=document.getElementById("nume_pren1_tr2_c2").innerHTML;//memorez prenumele salariatului
       tsf[11]=document.getElementById("CNP1_tr1_c2").innerHTML;//memorez CNP-ul
       tsf[12]=document.getElementById("Functie_Loc1_tr1_c2").innerHTML;//memorez functia
       tsf[13]=document.getElementById("Functie_Loc1_tr2_c2").innerHTML;// memorez locul de munca - ultimele doua valori din baza sde date - structura in care se regaseste si structura superioara
       //memorez ce optiune a fost aleasa dintre APT / APT CONDITIONAT / INAPT TEMPORAR / INAPT - informatia este memorata in variabila optiunea de mai sus
       tsf[14]=optiunea;
       tsf[15]=document.getElementById("R_inaltime").options[document.getElementById("R_inaltime").selectedIndex].value;
       tsf[16]=document.getElementById("R_noapte").options[document.getElementById("R_noapte").selectedIndex].value;
       tsf[17]=document.getElementById("R_auto").options[document.getElementById("R_auto").selectedIndex].value;
       tsf[18]=document.getElementById("Recomandari_scrise").value;
       tsf[19]=document.getElementById("Data_fisa_re").value;
       tsf[20]=document.getElementById("Data_Medic1_tr2_c2").innerHTML;       
       tsf[21]=document.getElementById("Data_examen_urmator").value;
       
        
        var x1=new XMLHttpRequest();
        x1.onreadystatechange=function(){
        if (x1.readyState==4 && x1.status==200){
                      goleste_campurile_fise();
                      genereaza_tabel_fise(Marca);
                      document.getElementById("div_introducere_fise").style.display='none';
                }
        };                                                             
        x1.open("POST","Salariati.php",true);
        x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
        x1.send("cheie_f="+cheie_f+"&modifica_tsf="+btoa(encodeURIComponent(JSON.stringify(tsf))));       
    }
    goleste_campurile_fise();
}



function sterge_fise(){
    Marca=document.getElementById("Marca").innerHTML;
    var x1=new XMLHttpRequest();
    x1.onreadystatechange=function(){
    if (x1.readyState==4 && x1.status==200){
                  //golesc campurile
                  goleste_campurile_fise();
                  genereaza_tabel_fise(Marca);
                  document.getElementById("div_introducere_fise").style.display='none';
            }
    };                                                             
    x1.open("POST","Salariati.php",true);
    x1.setRequestHeader("Content-type", "application/x-www-form-urlencoded");                                                                 
    x1.send("cheie_f="+cheie_f+"&stergef=orice");
}

function goleste_campurile_fise() { //spre deosebire de celelalte situatii de curatarea, in acest caz, va fi necesara introducerea campurilor generale - Nume, Prenume, CNP, Locul de munca, numele medicului logat 
       document.getElementById("div_introducere_fise").style.display='block';       
       document.getElementById("om1_tr0_c4").innerHTML=ls[salariat_in_ls][1];
       document.getElementById("c_0_1").checked=false;
       document.getElementById("c_1_1").checked=false;
       document.getElementById("c_1_2").checked=false;
       document.getElementById("c_1_3").checked=false;
       document.getElementById("c_1_4").checked=false;
       document.getElementById("c_1_5").checked=false;
       document.getElementById("c_1_6").checked=false;

       document.getElementById("numar_fisa").value="";
       document.getElementById("anul").value="";
       document.getElementById("nume_pren1_tr1_c2").innerHTML=ls[salariat_in_ls][23];//memorez numele salariatului
       document.getElementById("nume_pren1_tr2_c2").innerHTML=ls[salariat_in_ls][24];//memorez prenumele salariatului
       document.getElementById("CNP1_tr1_c2").innerHTML=ls[salariat_in_ls][3];//memorez CNP-ul
       document.getElementById("Functie_Loc1_tr1_c2").innerHTML=ls[salariat_in_ls][6];//memorez functia
       document.getElementById("Functie_Loc1_tr2_c2").innerHTML=ultimele2structuri;// memorez locul de munca - ultimele doua valori din baza sde date - structura in care se regaseste si structura superioara
       //memorez ce optiune a fost aleasa dintre APT / APT CONDITIONAT / INAPT TEMPORAR / INAPT - informatia este memorata in variabila optiunea de mai sus
       document.getElementById("c_apt_1").checked=false;
       document.getElementById("c_apt_cond_1").checked=false;
       document.getElementById("c_inapt_temporar_1").checked=false;
       document.getElementById("c_inapt_1").checked=false;
       
       document.getElementById("R_inaltime").value="";
       document.getElementById("R_noapte").value="";
       document.getElementById("R_auto").value="";
       document.getElementById("Recomandari_scrise").value="";
       document.getElementById("Data_fisa_re").value="";
       document.getElementById("Data_Medic1_tr2_c2").innerHTML=numelog;       
       document.getElementById("Data_examen_urmator").value="";
       document.getElementById("adauga_luni").value="";
       
       cheie_f="";//golesc cheie_f variabila in care memorez cheia fisei de aptitudini accesate
       
}




	function Intra2(inf,decateori,lungimea){
            document.getElementById(inf).className="navbar-item is-large has-text-primary-25 has-text-weight-bold";
            document.getElementById(inf).
            ok=0;
            centru=(document.getElementById(inf).getBoundingClientRect().left+document.getElementById(inf).getBoundingClientRect().right)/2;
            sus=document.getElementById(inf).getBoundingClientRect().top;
            realizeaza_linia2(ok,centru,decateori,lungimea);

    }
	
	function realizeaza_linia2(ok,centru,decateori,lungimea) {
                    if (document.getElementById("divcolor")) {document.getElementById("divcolor").remove();}
                    ok=ok+1;
					div=document.createElement("div");
					div.id="divcolor";
					div.style.position="fixed";
					div.style.width=ok*lungimea+"px";
					div.style.height="5px";
					div.style.backgroundColor="green";
					div.style.top=sus+43+"px";
					div.style.left=centru-ok*lungimea/2+"px";
                    div.style.zIndex="1020";
					document.body.appendChild(div);
                                if (ok<decateori) {
                                         setTimeout(function(){realizeaza_linia2(ok,centru,decateori,lungimea);},10);
                                }
    }

        
    function Out2(inf){
            document.getElementById(inf).className="navbar-item has-text-weight-bold";
                if (document.getElementById("divcolor")) {document.getElementById("divcolor").remove();}
    }
</script>

</html>





